{"version":3,"sources":["static/img/logo.png","components/Page.tsx","util/http/index.ts","util/http/http-resource.ts","util/http/cast-member-http.ts","components/Table/DebouncedTableSearch.js","components/Table/index.tsx","store/filter/index.ts","hooks/useFilter.ts","util/vendor/yup.ts","util/models.ts","components/Table/FilterResetButton.tsx","pages/cast-member/Table.tsx","pages/cast-member/PageList.tsx","components/Loading/LoadingContext.tsx","components/SubmitActions.tsx","hooks/useSnackbarFormError.ts","pages/cast-member/Form.tsx","pages/cast-member/PageForm.tsx","util/http/category-http.ts","theme.ts","components/Badge.tsx","pages/category/Table.tsx","pages/category/PageList.tsx","components/DefaultForm.tsx","pages/category/Form.tsx","pages/category/PageForm.tsx","pages/Dashboard.tsx","util/http/genre-http.ts","pages/genre/Table.tsx","pages/genre/PageList.tsx","pages/genre/Form.tsx","pages/genre/PageForm.tsx","util/http/video-http.ts","components/DeleteDialog.tsx","hooks/useDeleteCollection.ts","pages/video/Table.tsx","pages/video/PageList.tsx","components/Rating.tsx","pages/video/Form/RatingField.tsx","components/InputFile.tsx","pages/video/Form/UploadField.tsx","components/AsyncAutocomplete.tsx","components/GridSelected.tsx","components/GridSelectedItem.tsx","hooks/useCollectionManager.ts","hooks/useHttpHandled.ts","util/model-filters.ts","pages/video/Form/GenreField.tsx","pages/video/Form/CategoryField.tsx","pages/video/Form/CastMemberField.tsx","store/upload/index.ts","store/upload/getters.ts","components/SnackbarUpload/UploadAction.tsx","components/UploadProgress.tsx","components/SnackbarUpload/UploadItem.tsx","components/SnackbarUpload/index.tsx","pages/video/Form/index.tsx","pages/video/PageForm.tsx","pages/uploads/UploadAction.tsx","pages/uploads/UploadItem.tsx","pages/uploads/index.tsx","routes/index.tsx","components/Breadcrumbs.tsx","components/Loading/LoadingProvider.tsx","components/NavBar/Menu.tsx","components/NavBar/index.tsx","components/SnackBarProvider.tsx","components/Spinner.tsx","routes/AppRouter.tsx","App.tsx","serviceWorker.ts","store/upload/sagas.ts","store/root-saga.ts","store/index.ts","index.tsx"],"names":["module","exports","useStyles","makeStyles","title","color","Page","props","classes","Container","Typography","className","component","variant","Box","paddingTop","children","httpVideo","axios","create","baseURL","process","instances","HttpResource","http","resource","cancelList","options","this","cancel","CancelToken","source","config","cancelToken","token","queryParams","params","get","id","data","console","log","sendData","makeSendData","post","containsFile","getFormData","usePost","put","patch","delete","error","isCancel","serialize","booleansAsIntegers","Object","values","filter","el","File","length","castMemberHttp","theme","main","display","flex","searchIcon","palette","text","secondary","marginTop","marginRight","searchText","clearIcon","name","DebouncedTableSearch","onSearch","onHide","debounceTime","useState","value","setValue","undefined","dispatchOnSearch","useRef","debounce","current","Grow","appear","in","timeout","TextField","autoFocus","InputProps","textLabels","toolbar","search","inputProps","onKeyDown","event","key","onChange","target","fullWidth","placeholder","searchPlaceholder","searchProps","IconButton","onClick","Table","React","ref","debouncedSearchTime","columns","cloneDeep","useTheme","isSmOrDown","useMediaQuery","breakpoints","down","defaultOptions","print","download","body","noMatch","toolTip","pagination","next","previous","rowsPerPage","displayRows","downloadCsv","viewColumns","filterTable","all","reset","titleAria","selectedRows","deleteAria","customSearchRender","handleSearch","hideSearch","newProps","merge","forEach","column","width","overrides","MUIDataTableHeadCell","fixedHeader","setColumnsWith","map","omit","loading","applyLoading","responsive","originalProps","makeActionStyles","copyTheme","selector","MUIDataTableBodyCell","root","paddingBottom","createActions","setSearch","setPage","setPerPage","setOrder","setReset","updateExtraFilter","Types","Creators","INITIAL_STATE","page","per_page","order","sort","dir","reducer","createReducer","SET_SEARCH","state","action","payload","SET_PAGE","SET_PER_PAGE","SET_ORDER","SET_RESET","UPDATE_EXTRA_FILTER","extraFilter","useFilter","history","useHistory","location","useLocation","locationSearch","locationPathname","pathname","locationState","rowsPerPageOptions","schema","useMemo","yup","shape","transform","default","isNaN","parseInt","includes","nullable","toLowerCase","createValidationSchema","stateFromUrl","URLSearchParams","substr","cast","getStateFromURL","cleanSearchText","useCallback","newText","formatSearchParams","useEffect","replace","useReducer","filterState","dispatch","filterManager","FilterManager","useDebounce","debouncedFilterState","totalRecords","setTotalRecords","newLocation","oldState","isEqual","push","applyOrderInColumns","setLocale","mixed","required","notType","string","max","number","min","tableRef","changeRowsPerPage","changePage","perPage","changedColumn","direction","resetTablePagination","update","sortDirection","CastMemberTypeMap","1","2","VideoFileFieldsMap","iconButton","MUIDataTableToolbar","icon","FilterResetButton","Tooltip","handleClick","castMemberNames","columnsDefinition","label","filterOptions","names","customBodyRender","tableMeta","updateValue","format","parseISO","Link","to","rowData","enqueueSnackbar","useSnackbar","subscribed","setData","setLoading","type","debouncedState","indexColumnType","findIndex","c","columnType","typeFilterValue","filterList","serverSideFilterList","getData","a","list","invert","meta","total","isCancelledRequest","serverSide","count","onFilterChange","columnIndex","changeExtraFilter","customToolbar","resetFilter","onSearchChange","changeSearch","onChangePage","onChangeRowsPerPage","onColumnSortChange","changeColumnSort","PageList","Fab","size","Add","LoadingContext","createContext","submit","margin","spacing","SubmitActions","buttonProps","disabled","disabledButtons","Button","handleSave","useSnackbarFormError","submitCount","errors","hasError","keys","validationSchema","Form","useForm","resolver","yupResolver","register","handleSubmit","getValues","watch","trigger","formState","useParams","castMember","setCastMember","onSubmit","formData","setTimeout","getCastMember","inputRef","helperText","message","InputLabelProps","shrink","FormControl","FormLabel","RadioGroup","e","FormControlLabel","control","Radio","FormHelperText","then","isValid","PageForm","categoryHttp","primary","contrastText","dark","background","success","green","red","A400","createMuiTheme","MUIDataTable","paper","boxShadow","minHeight","backgroundColor","iconActive","sortActive","sortAction","alignItems","sortLabelRoot","MuiTableSortLabel","MUIDataTableSelectCell","headerCell","MUIDataTableToolbarSelect","MUIDataTableBodyRow","MUIDataTablePagination","localTheme","BadgeYes","Chip","BadgeNo","snackbar","useContext","gridItem","padding","DefaultForm","GridContainerProps","GridItemProps","other","Grid","container","item","defaultValues","is_active","category","setCategory","getCategory","xs","md","multiline","rows","labelPlacement","Checkbox","checked","Dashboard","genreHttp","filterType","join","setCategories","categories","split","indexColumnCategories","columnCategories","categoriesFilterValue","isSubscribed","categories_id","genre","setGenre","promises","Promise","categoriesResponse","genreResponse","select","shouldValidate","SelectProps","multiple","MenuItem","videoHttp","DeleteDialog","open","handleClose","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","useDeleteCollection","openDeleteDialog","setOpenDeleteDialog","rowsToDelete","setRowsToDelete","confirmed","ids","index","deleteCollection","response","catch","onRowsDelete","rowsDeleted","height","fontSize","borderRadius","justifyContent","backgroundColors","Rating","style","rating","ratings","RatingField","formControlProps","row","InputFile","fileRef","fileName","setFileName","textFieldProps","TextFieldProps","readOnly","endAdornment","InputAdornment","position","ButtonFile","inputFileProps","InputFileProps","hidden","files","Array","from","file","openWindow","click","clear","UploadField","accept","endIcon","AsyncAutocomplete","AutoCompleteProps","fetchOptions","freeSolo","onOpen","onInputChange","setOpen","setSearchText","debouncedSearchText","setOptions","autoCompleteProps","loadingText","noOptionsText","inputValue","reason","renderInput","CircularProgress","Autocomplete","createStyles","GridSelected","wrap","GridSelectedItem","onDelete","useCollectionManager","collection","setCollection","addItem","find","i","unshift","removeItem","splice","useHttpHandled","request","getGenresFromCategory","genres","cat","GenreField","setGenres","autocompleteHttp","removeCategory","autocompleteRef","clearOnEscape","getOptionSelected","option","getOptionLabel","FormControlProps","genresSubtitle","grey","CategoryField","genresFromCategory","noWrap","CastMemberField","castMembers","setCastMembers","addUpload","removeUpload","updateProgress","setUploadError","uploads","ADD_UPLOAD","findIndexUpload","video","progress","$splice","fileField","REMOVE_UPLOAD","upload","UPDATE_PROGRESS","videoId","findIndexUploadAndFile","indexUpload","indexFile","$apply","$set","calculateGlobalProgress","SET_UPLOAD_ERROR","findIndexFile","countFiles","reduce","sum","isFinished","obj","isUploadType","some","successIcon","errorIcon","deleteIcon","UploadAction","hover","useDispatch","show","setShow","debouncedShow","Fade","enter","ListItemSecondaryAction","edge","progressContainer","left","progressBackground","UploadProgress","uploadOrFile","exit","listItem","listItemText","marginLeft","movieIcon","minWidth","UploadItem","itemHover","setItemHover","disableFocusListener","disableTouchListener","placement","ListItem","button","onMouseOver","onMouseLeave","ListItemIcon","ListItemText","Divider","card","cardActionRoot","fontWeight","icons","expand","transition","transitions","duration","shortest","expandOpen","SnackbarUpload","closeSnackbar","expanded","setExpanded","useSelector","totalInProgress","countInProgress","Card","CardActions","classnames","Collapse","List","cardUpload","cardOpened","cardContentOpened","description","year_launched","cast_members","test","every","v","parent","fileFields","opened","setVideo","isGreaterMd","up","castMemberRef","genreRef","categoryRef","uploadsRef","zipObject","resetForm","field","cast_member","uploadFiles","persist","anchorOrigin","vertical","horizontal","content","CardContent","divider","activeActions","orientation","gridTitle","justify","panelSummary","expandedIcon","routes","path","exact","CategoryList","CategoryForm","CastMemberList","CastMemberForm","GenreList","GenreForm","VideoList","VideoForm","elevation","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","dense","filename","breadcrumbNameMap","route","linkRouter","LinkRouter","RouterLink","Breadcrumbs","pathnames","x","aria-label","last","slice","RouteParser","match","makeBreadcrumb","LoadingProvider","countRequest","setCountRequest","decrementCountRequest","prevCountRequest","requestIds","onFulfilled","onRejected","interceptors","use","addGlobalRequestInterceptor","headers","hasOwnProperty","responseIds","addGlobalResponseInterceptor","reject","eject","removeGlobalResponseInterceptor","Provider","listRoutes","menuRoutes","Menu","anchorEl","setAnchorEl","Boolean","aria-controls","aria-haspopup","currentTarget","transformOrigin","getContentAnchorEl","routeName","flexGrow","textAlign","logo","NavBar","AppBar","Toolbar","src","alt","variantSuccess","variantError","variantInfo","SnackBarProvider","snackbarProviderRef","defaultProps","autoHideDuration","maxSnack","preventDuplicate","makeLocalTheme","Spinner","LinearProgress","zIndex","AppRouter","App","Fragment","CssBaseline","basename","window","hostname","uploadWatcherSaga","uploadFile","actionChannel","newFilesChannel","take","fileInfo","call","f","sendUpload","channel","eventChannel","emmitter","partialUpdate","_method","onUploadProgress","progressEvent","lengthComputable","loaded","finally","END","rootSaga","sagaMiddleware","createSagaMiddleWare","store","createStore","combineReducers","applyMiddleware","run","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.53982637.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import { Box, Container, makeStyles, Typography } from '@material-ui/core';\nimport * as React from 'react';\n\nconst useStyles = makeStyles({\n  title: {\n    color: '#999'\n  }\n});\ntype PageProps = {\n  title: string\n};\nexport const Page:React.FC<PageProps> = (props) => {\n  const classes = useStyles();\n  return (\n    <Container>\n      <Typography className={classes.title} component=\"h1\" variant=\"h5\">\n        {props.title}\n      </Typography>\n      <Box paddingTop={1}>\n        {props.children}\n      </Box>\n     \n    </Container>\n  );\n};","import axios, { AxiosError, AxiosRequestConfig, AxiosResponse } from \"axios\";\n\nexport const httpVideo = axios.create({\n  baseURL: process.env.REACT_APP_MICRO_VIDEO_API_URL,\n  // headers: {\n  //   Accept: \"application/json\"\n  // }\n});\n\nconst instances = [httpVideo];\n\nexport function addGlobalRequestInterceptor(\n              onFulfilled?: (value: AxiosRequestConfig) => AxiosRequestConfig| Promise<AxiosRequestConfig>,\n              onRejected?: (error: any) => any\n            ){\n  const ids: number[] = [];            \n  for(let i of instances){\n    const id = i.interceptors.request.use(onFulfilled, onRejected);\n    ids.push(id);\n  }\n  return ids;\n                                    \n}\n\nexport function removeGlobalRequestInterceptor(ids: number[]){\n  ids.forEach((id, index) => instances[index].interceptors.request.eject(id));\n}\n\nexport function addGlobalResponseInterceptor(\n  onFulfilled?: (value: AxiosResponse) => AxiosResponse| Promise<AxiosResponse>\n  ,onRejected?: (error: AxiosError) => any){\n  const ids: number[] = [];            \n  for(let i of instances){\n    const id = i.interceptors.response.use(onFulfilled, onRejected);\n    ids.push(id);\n  }\n  return ids;\n}\n\nexport function removeGlobalResponseInterceptor(ids: number[]){\n  ids.forEach((id, index) => instances[index].interceptors.response.eject(id));\n}","import { AxiosInstance, AxiosRequestConfig, AxiosResponse, CancelTokenSource } from \"axios\";\nimport axios from \"axios\";\nimport {serialize} from \"object-to-formdata\";\nexport default class HttpResource{\n  \n  private cancelList: CancelTokenSource | null = null\n\n  constructor(protected http: AxiosInstance, protected resource){\n    \n  }\n  \n  list<T = any>(options?: {queryParams?} ): Promise<AxiosResponse<T>>{\n    if(this.cancelList) {\n      this.cancelList.cancel('list request cancelled');\n    }\n    this.cancelList = axios.CancelToken.source();\n    const config: AxiosRequestConfig = {\n      cancelToken: this.cancelList.token,\n    };\n    \n    if(options && options.queryParams){\n      config.params = options.queryParams\n    }\n    \n    return this.http.get<T>(this.resource, config);\n  }\n\n  get<T = any>(id): Promise<AxiosResponse<T>>{\n    return this.http.get<T>(`${this.resource}/${id}`);\n  }\n\n  create<T = any>(data): Promise<AxiosResponse<T>>{\n    console.log('antes: ',data);\n    let sendData = this.makeSendData(data);\n    console.log('depois:', data);\n    return this.http.post<T>(this.resource, sendData);\n  }\n\n  update<T = any>(id, data, options?: {http?: {usePost: boolean }, config?: AxiosRequestConfig}): Promise<AxiosResponse<T>>{\n    let sendData = data;\n    if(this.containsFile(data)) {\n      sendData = this.getFormData(data);\n    }\n    const {http, config} = (options || {}) as any;\n    return !options || !http || !http.usePost\n          ? this.http.put<T>(`${this.resource}/${id}`, sendData, config)\n          : this.http.post<T>(`${this.resource}/${id}`, sendData, config);\n  }\n\n  partialUpdate<T = any>(id, data, options?: {http?: {usePost: boolean }, config?: AxiosRequestConfig}): Promise<AxiosResponse<T>>{\n    let sendData = data;\n    if(this.containsFile(data)) {\n      sendData = this.getFormData(data);\n    }\n    const {http, config} = (options || {}) as any;\n    return !options || !http || !http.usePost\n          ? this.http.patch<T>(`${this.resource}/${id}`, sendData, config)\n          : this.http.post<T>(`${this.resource}/${id}`, sendData, config);\n  }\n\n  delete<T = any>(id): Promise<AxiosResponse<T>>{\n    return this.http.delete<T>(`${this.resource}/${id}`);\n  }\n\n  deleteCollection<T = any>(queryParams): Promise<AxiosResponse<T>> {\n    const config: AxiosRequestConfig = {};\n    if(queryParams){\n      config['params'] = queryParams;\n    }\n    return this.http.delete<T>(`${this.resource}`, config)\n  }\n\n  isCancelledRequest(error){\n    return axios.isCancel(error);\n  }\n\n  private makeSendData(data){\n    return this.containsFile(data) ? this.getFormData(data) : data;\n  }\n\n  private getFormData(data){\n    // Object\n    //     .keys(data)\n    //     .forEach(key => {\n    //       let value = data[key];\n    //       if (typeof value === \"undefined\") {\n    //         return;\n    //       }\n    //       if (typeof value === \"boolean\") {\n    //         value = value ? 1: 0;\n    //       }\n    //       if (value instanceof Array){\n    //         value.forEach(v => formData.append(`${key}[]`, v));\n    //         return;\n    //       }\n    //       formData.append(key, value);\n    //     });\n    return serialize(data, {booleansAsIntegers: true})\n  }\n\n  private containsFile(data) {\n    return Object\n            .values(data)\n            .filter(el => el instanceof File).length !== 0\n\n  }\n}","import { httpVideo } from \".\";\nimport HttpResource from \"./http-resource\";\n\nconst castMemberHttp = new HttpResource(httpVideo, \"cast_members\");\n\nexport default castMemberHttp;","import React, { useRef, useState } from 'react';\nimport Grow from '@material-ui/core/Grow';\nimport TextField from '@material-ui/core/TextField';\nimport SearchIcon from '@material-ui/icons/Search';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { debounce } from \"lodash\";\n\nconst useStyles = makeStyles(\n  theme => ({\n    main: {\n      display: 'flex',\n      flex: '1 0 auto',\n    },\n    searchIcon: {\n      color: theme.palette.text.secondary,\n      marginTop: '10px',\n      marginRight: '8px',\n    },\n    searchText: {\n      flex: '0.8 0',\n    },\n    clearIcon: {\n      '&:hover': {\n        color: theme.palette.error.main,\n      },\n    },\n  }),\n  { name: 'MUIDataTableSearch' },\n);\n\nconst DebouncedTableSearch = ({ options, searchText, onSearch, onHide, debounceTime }) => {\n  const classes = useStyles();\n  const [value, setValue] = useState('');\n  if(searchText && searchText.value !== undefined){\n    setValue(searchText.value);\n  }\n\n  const dispatchOnSearch = useRef(debounce((value) => onSearch(value), debounceTime)).current;\n  const handleTextChange = event => {\n    const value = event.target.value;\n    setValue(value);\n    dispatchOnSearch(value);\n  };\n\n  const onKeyDown = event => {\n    if (event.key === 'Escape') {\n      onHide();\n    }\n  };\n  return (\n    <Grow appear in={true} timeout={300}>\n      <div className={classes.main}>\n        <SearchIcon className={classes.searchIcon} />\n        <TextField\n          className={classes.searchText}\n          autoFocus={true}\n          InputProps={{\n            'data-test-id': options.textLabels.toolbar.search,\n          }}\n          inputProps={{\n            'aria-label': options.textLabels.toolbar.search,\n          }}\n          value={value || ''}\n          onKeyDown={onKeyDown}\n          onChange={handleTextChange}\n          fullWidth={true}\n          placeholder={options.searchPlaceholder}\n          {...(options.searchProps ? options.searchProps : {})}\n        />\n        <IconButton className={classes.clearIcon} onClick={onHide}>\n          <ClearIcon />\n        </IconButton>\n      </div>\n    </Grow>\n  );\n};\n\nexport default DebouncedTableSearch;","// @flow \nimport MUIDataTable,{ MUIDataTableColumn, MUIDataTableOptions, MUIDataTableProps } from 'mui-datatables';\nimport * as React from 'react';\nimport {merge, omit, cloneDeep} from 'lodash';\nimport { MuiThemeProvider, Theme, useMediaQuery, useTheme } from '@material-ui/core';\nimport DebouncedTableSearch from \"./DebouncedTableSearch\";\n\nexport interface TableColumn extends MUIDataTableColumn{\n  width?: string\n}\n\nconst makeDefaultOptions = (debouncedSearchTime?: number): MUIDataTableOptions => ({\n  print: false,\n  download: false,\n  textLabels: {\n    body: {\n      noMatch: \"Nenhum registro encontrado\",\n      toolTip: \"Classificar\"\n    },\n    pagination: {\n      next: \"Próxima página\",\n      previous: \"Página anterior\",\n      rowsPerPage: \"Por página:\",\n      displayRows: \"de\",\n    },\n    toolbar: {\n      search: \"Busca\",\n      downloadCsv: \"Download CSV\",\n      print: \"Imprimir\",\n      viewColumns: \"Ver colunas\",\n      filterTable: \"FiltrarTabelas\",\n    },\n    filter: {\n      all: \"Todos\",\n      title: \"FILTROS\",\n      reset: \"LIMPAR\",\n    },\n    viewColumns: {\n      title: \"Ver Colunas\",\n      titleAria: \"Ver/Esconder colunas da Tabela\",\n    },\n    selectedRows: {\n      text: \"registro(s) selecionados\",\n      delete: \"Excluir\",\n      deleteAria: \"Excluir registros selecionados\"\n    },\n  },\n  customSearchRender: (searchText: string, \n                        handleSearch: any, \n                        hideSearch: any, \n                        options: any) => {\n                          return <DebouncedTableSearch\n                            searchText={searchText}\n                            onSearch={handleSearch}\n                            onHide={hideSearch}\n                            options={options}\n                            debounceTime={debouncedSearchTime}\n                          />\n                        }    \n});\n\nexport interface MuiDataTableRefComponent {\n  changePage:  (page: number) => void;\n  changeRowsPerPage: (rowsPerPage: number) => void;\n}\n\nexport interface TableProps extends MUIDataTableProps {\n  columns: TableColumn[];\n  loading?: boolean;\n  debouncedSearchTime?:number; \n}\nconst Table = React.forwardRef<MuiDataTableRefComponent, TableProps>( (props,ref) => {\n  \n  function extractMuiDAtaTableColumns(columns: TableColumn[]): MUIDataTableColumn[]{\n    setColumnsWith(columns);\n    return columns.map(column => omit(column, 'width'));\n  }\n\n  function setColumnsWith(columns: TableColumn[]){\n    columns.forEach((column,key) => {\n        if(column.width){\n          const overrides = theme.overrides as any;\n          overrides.MUIDataTableHeadCell.fixedHeader[`&:nth-child(${key+2})`] = {\n            width: column.width\n          }\n        }\n      }\n    )\n  }\n\n  function applyLoading(){\n    const textLabels = (newProps.options as any).textLabels;\n    textLabels.body.noMatch = \n    newProps.loading === true\n      ? 'Carregando...' \n      : textLabels.body.noMatch\n  }\n\n  function applyResponsive(){\n    newProps.options.responsive = isSmOrDown ? 'standard' : 'vertical';\n  }\n\n\n  function getOriginalMuiDataTableProps(){\n    return {\n      ...omit(newProps, 'loading'),\n      ref\n    }\n  }\n\n  const theme = cloneDeep<Theme>(useTheme());\n  const isSmOrDown = useMediaQuery(theme.breakpoints.down('sm'));\n\n  const defaultOptions = makeDefaultOptions(props.debouncedSearchTime);\n\n  const newProps = merge(\n    {options: cloneDeep(defaultOptions)}, \n    props,\n    {columns: extractMuiDAtaTableColumns(props.columns)}\n  );\n\n  applyLoading();\n  applyResponsive();\n  const originalProps = getOriginalMuiDataTableProps();\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      <MUIDataTable {...originalProps} />\n    </MuiThemeProvider>\n    \n  );\n});\n\nexport default Table;\n\nexport function makeActionStyles(column) {\n  return theme => {\n    const copyTheme = cloneDeep(theme);\n    const selector = `&[data-testid^=\"MuiDataTableBodyCell-${column}\"]`;\n    (copyTheme.overrides as any).MUIDataTableBodyCell.root[selector] = {\n      paddingTop: '0px',\n      paddingBottom: '0px',\n    }\n    return copyTheme;\n  }\n}\n  \n  ","import { createActions, createReducer } from \"reduxsauce\";\nimport * as Typings from \"./types\";\n\nexport const {Types, Creators} = createActions<{\n  SET_SEARCH: string,\n  SET_PAGE: string,\n  SET_PER_PAGE: string,\n  SET_ORDER: string,\n  SET_RESET: string,\n  UPDATE_EXTRA_FILTER: string,\n}, {\n  setSearch(payload: Typings.SetSearchAction['payload']): Typings.SetSearchAction,\n  setPage(payload: Typings.SetPageAction['payload']): Typings.SetPageAction,\n  setPerPage(payload: Typings.SetPerPageAction['payload']): Typings.SetPerPageAction,\n  setOrder(payload: Typings.SetOrderAction['payload']): Typings.SetOrderAction,\n  setReset(payload: Typings.SetResetAction['payload']): Typings.SetResetAction,\n  updateExtraFilter(payload: Typings.UpdateExtraFilterAction['payload']): Typings.UpdateExtraFilterAction\n\n}>({\n  setSearch: ['payload'],\n  setPage: ['payload'],\n  setPerPage: ['payload'],\n  setOrder: ['payload'],\n  setReset: ['payload'],\n  updateExtraFilter: ['payload']\n})\n\nexport const INITIAL_STATE : Typings.State = {\n  search: null,\n  pagination: {\n    page: 1,\n    per_page: 10\n  },\n  order: {\n    sort: null,\n    dir: null  \n  }\n};\n\nconst reducer = createReducer<Typings.State, Typings.Actions>(INITIAL_STATE, {\n  [Types.SET_SEARCH]: setSearch as any,\n  [Types.SET_PAGE]: setPage as any,\n  [Types.SET_PER_PAGE]: setPerPage as any,\n  [Types.SET_ORDER]: setOrder as any,\n  [Types.SET_RESET]: setReset as any,\n  [Types.UPDATE_EXTRA_FILTER]: updateExtraFilter as any\n\n});\n  // [Types.UPDATE_EXTRA_FILTER]: updateExtraFilter\nexport default reducer;\n\nfunction setSearch(state = INITIAL_STATE, action: Typings.SetSearchAction){\n  return {\n    ...state,\n    search: action.payload.search,\n    pagination: {\n      ...state.pagination,\n      page: 1\n    }\n  };\n}\n\nfunction setPage(state = INITIAL_STATE, action: Typings.SetPageAction){\n  return {\n    ...state,\n    pagination: {\n      ...state.pagination,\n      page: action.payload.page\n    }\n  };\n}\n\nfunction setPerPage(state = INITIAL_STATE, action: Typings.SetPerPageAction){\n  return {\n    ...state,\n    pagination: {\n      ...state.pagination,\n      per_page: action.payload.per_page\n    }\n  };\n}\n\nfunction setOrder(state = INITIAL_STATE, action: Typings.SetOrderAction){\n  return {\n    ...state,\n    pagination: {\n      ...state.pagination,\n      page: 1\n    },\n    order: {\n      sort: action.payload.sort,\n      dir: action.payload.dir\n    }\n  }\n}\n\nfunction updateExtraFilter(state = INITIAL_STATE, action: Typings.UpdateExtraFilterAction){\n  return {\n    ...state,\n    extraFilter: {\n      ...state.extraFilter,\n      ...action.payload\n    }\n  }\n}\n\nfunction setReset(state = INITIAL_STATE, action: Typings.SetResetAction){\n  return action.payload.state\n  // return {...INITIAL_STATE, search: {value: null, update: true}}\n}\n","import { MUIDataTableColumn } from \"mui-datatables\";\nimport { Dispatch, Reducer, useCallback, useEffect, useMemo, useReducer, useState } from \"react\";\nimport reducer, { Creators } from \"../store/filter\";\nimport { Actions as FilterActions, State as FilterState } from \"../store/filter/types\";\nimport { useDebounce } from \"use-debounce\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { isEqual } from \"lodash\";\nimport * as yup from '../util/vendor/yup';\nimport { MuiDataTableRefComponent } from \"../components/Table\";\nimport { ObjectSchema } from \"../util/vendor/yup\";\n\ninterface FilterManagerOptions {\n  schema: ObjectSchema;\n  columns: MUIDataTableColumn[];\n  rowsPerPage: number;\n  tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n  dispatch: Dispatch<FilterActions>;\n  state: FilterState;\n}\n\ninterface ExtraFilter{\n  getStateFromURL: (queryParams: URLSearchParams) => any,\n  formatSearchParams: (debouncedState: FilterState) => any,\n  createValidationSchema: () => any,\n}\n\ninterface UseFilterOptions {\n  columns: MUIDataTableColumn[];\n  rowsPerPage: number;\n  rowsPerPageOptions: number[];\n  debounceTime: number;\n  tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n  extraFilter?: ExtraFilter\n}\n\nexport default function useFilter(options: UseFilterOptions){\n  const history = useHistory();\n  const location = useLocation();\n  const {search: locationSearch, pathname: locationPathname, state: locationState} = location;\n  const {rowsPerPage, rowsPerPageOptions, extraFilter, columns} = options;\n  const schema = useMemo(()=> {\n    return  yup.object().shape({\n      search: yup.string()\n              .transform(value => !value ? undefined : value)\n              .default(''),\n      pagination: yup.object().shape({\n        page: yup.number()\n                .transform(value => isNaN(value) || parseInt(value) < 1 ? undefined : value)\n                .default(1),\n        per_page: yup.number()\n                .transform(value => \n                  isNaN(value) || rowsPerPageOptions.includes(parseInt(value)) ? undefined : value\n                  )\n                .default(rowsPerPage),\n      }),\n      order: yup.object().shape({\n        sort: yup.string()\n                .nullable()\n                .transform( value => {\n                  const columnsName = columns\n                    .filter(column => !column.options || column.options.sort !==false)\n                    .map(column => column.name);\n                  return columnsName.includes(value) ? value : undefined;  \n                })\n                .default(null),\n        dir: yup.string()\n                .nullable()\n                .transform( value => !value || !['asc','desc'].includes(value.toLowerCase()) ? undefined : value )\n                .default(null)\n      }),\n      ...(\n        extraFilter && {\n          extraFilter: extraFilter.createValidationSchema()\n        }\n      )\n    });\n  },[rowsPerPageOptions, rowsPerPage, columns, extraFilter ]);\n\n  const stateFromUrl = useMemo(()=> {\n    const queryParams = new URLSearchParams(locationSearch.substr(1));\n    return schema.cast({\n      search: queryParams.get('search'),\n      pagination: {\n        page: queryParams.get('page'),\n        per_page: queryParams.get('per_page'),\n      },\n      order: {\n        sort: queryParams.get('sort'),\n        dir: queryParams.get('dir'),\n      },\n      ...(\n        extraFilter && {\n          extraFilter: extraFilter.getStateFromURL(queryParams)\n        }\n      )\n     \n    });\n  }, [locationSearch, schema, extraFilter]);\n\n  const cleanSearchText = useCallback((text)=> {\n    let newText = text\n    if(text && text.value !== undefined){\n      newText = text.value\n    }\n    return newText;\n  }, []);\n\n  const formatSearchParams = useCallback((state, extraFilter) => {\n    const search = cleanSearchText(state.search);\n    return {\n      ...(search && search !== '' && {search: search}),\n      ...(state.pagination.page !== 1 && {page: state.pagination.page}),\n      ...(state.pagination.per_page !== 15 && {page: state.pagination.per_page}),\n      ...(state.order.sort && {\n          sort: state.order.sort,\n          dir: state.order.dir\n        }\n      ),\n      ...(\n        extraFilter && extraFilter.formatSearchParams(state)\n      )\n    }\n  }, [cleanSearchText]);\n\n  useEffect(() => {\n    history.replace({\n      pathname: locationPathname,\n      search: \"?\" + new URLSearchParams(formatSearchParams(stateFromUrl, extraFilter) as any),\n      state: stateFromUrl\n    })\n  }, [history, locationPathname, formatSearchParams, stateFromUrl, extraFilter]);\n\n  const INITIAL_STATE = stateFromUrl as FilterState;\n  const [filterState , dispatch] = useReducer<Reducer<FilterState, FilterActions>>(reducer, INITIAL_STATE);\n  const filterManager = new FilterManager({...options, schema, state: filterState, dispatch });\n  const [debouncedFilterState] = useDebounce(filterState, options.debounceTime);\n  const [totalRecords, setTotalRecords] = useState<number>(0);\n \n\n  useEffect(() => {\n    const newLocation = {\n      pathname: locationPathname,\n      search: \"?\" + new URLSearchParams(formatSearchParams(debouncedFilterState, extraFilter)),\n      state: {\n        ...debouncedFilterState,\n        search: cleanSearchText(debouncedFilterState.search)\n      }\n    };\n    const oldState = locationState;\n    if(isEqual(oldState, debouncedFilterState)){\n      return;\n    }\n    history.push(newLocation);\n  }, [history, locationPathname, locationState,  debouncedFilterState, formatSearchParams, cleanSearchText, extraFilter]);\n\n  filterManager.state = filterState;\n \n  filterManager.applyOrderInColumns();\n\n  return {\n    columns : filterManager.columns,\n    cleanSearchText,\n    filterManager,\n    filterState,\n    debouncedFilterState,\n    dispatch,\n    totalRecords,\n    setTotalRecords\n  }\n}\n\nexport class FilterManager {\n  \n  schema;\n  state: FilterState;\n  dispatch: Dispatch<FilterActions> = null as any;\n  columns: MUIDataTableColumn[];\n  rowsPerPage: number;\n  tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n\n  constructor({schema, columns,rowsPerPage, tableRef, dispatch, state}: FilterManagerOptions) {\n    this.schema = schema;\n    this.columns = columns;\n    this.rowsPerPage = rowsPerPage;\n    this.tableRef = tableRef;\n    this.dispatch = dispatch;\n    this.state = state;\n  }\n\n  private resetTablePagination(){\n    this.tableRef.current.changeRowsPerPage(this.rowsPerPage);\n    this.tableRef.current.changePage(0);\n  }\n\n  changeSearch(value: any) {\n    this.dispatch(Creators.setSearch({search: value}));\n  }\n  \n  changePage(page) {\n    this.dispatch(Creators.setPage({page: page+1}));\n  }  \n  \n  changeRowsPerPage (perPage){ \n    this.dispatch(Creators.setPerPage({per_page: perPage}));\n  }\n  \n  changeColumnSort (changedColumn: string, direction: string){\n    this.dispatch(Creators.setOrder({\n              sort: changedColumn,\n              dir: direction.includes('desc') ? 'desc' : 'asc'\n             })\n    );\n    this.resetTablePagination();\n    \n  }\n\n  changeExtraFilter(data){\n    this.dispatch(Creators.updateExtraFilter(data));\n  }\n\n  resetFilter(){\n    const INITIAL_STATE = {\n      ...this.schema.cast({}),\n      search: {value: null, update: true}\n    };\n    this.dispatch(Creators.setReset({\n      state: INITIAL_STATE\n    }));\n    this.resetTablePagination();\n  }\n\n  applyOrderInColumns(){\n    this.columns = this.columns.map( column => {\n      return column.name === this.state.order.sort\n      ? {\n        ...column,\n        options: {\n          ...column.options,\n          sortDirection: this.state.order.dir as any\n  \n        }\n      }\n      : column\n        \n    }) as any;\n    \n\n  }\n  \n}\n\n","/* eslint-disable no-template-curly-in-string */\nimport { LocaleObject, setLocale } from \"yup\";\n\nconst ptBR: LocaleObject = {\n  mixed: {\n    required: '${path} é requerido.',\n    notType: '${path} é inválido.'\n  },\n  string: {\n    max: '${path} precisa ter no máximo ${max} caracteres.'\n  },\n  number: {\n    min: '${path} precisa ser no mínimo ${min}.'\n  }\n}\n\nsetLocale(ptBR);\n\nexport * from 'yup';","export interface ListResponse<T>{\n  data: T[];\n  links: {\n    first: string;\n    last: string;\n    prev: string | null;\n    next: string | null;\n  };\n  meta: {\n    current_page: number;\n    from: number;\n    last_page: number;\n    path: string;\n    per_page: number;\n    to: number;\n    total: number;\n  };\n}\n\ninterface TimeStampable {\n  readonly created_at: string;\n  readonly deleted_at: string | null;\n  readonly updated_at: string;\n}\n\nexport  interface Category extends TimeStampable{\n  readonly id: string;\n  name: string;\n  description: string;\n  is_active: boolean;\n}\n\nexport const CastMemberTypeMap = {\n  1: 'Director',\n  2: 'Ator'\n};\n\nexport  interface CastMember extends TimeStampable{\n  readonly id: string;\n  name: string;\n  type: number;\n}\n\nexport  interface Genre extends TimeStampable{\n  readonly id: string;\n  name: string;\n  is_active: boolean;\n  categories: Category[];\n}\n\ninterface GenreVideo extends Omit<Genre, 'categories'> {\n\n}\n\nexport const VideoFileFieldsMap = {\n  'thumb_file' : 'Thumbnail',\n  'banner_file' : 'Banner',\n  'trailer_file' : 'Trailer',\n  'video_file' : 'Principal'\n}\n\nexport  interface Video extends TimeStampable{\n  readonly id: string;\n  title: string;\n  description: string;\n  year_launched: number;\n  opened: boolean;\n  rating: string;\n  duration: number;\n  genres: GenreVideo[];\n  categories: Category[];\n  cast_members: CastMember[];\n  video_file_url: string;\n  thumb_file_url: string;\n  banner_file_url: string;\n  trailer_file_url: string;\n}","// @flow \nimport { IconButton, makeStyles, Tooltip } from '@material-ui/core';\nimport ClearAllIcon from '@material-ui/icons/ClearAll';\nimport * as React from 'react';\nconst useStyles = makeStyles(theme => ({\n  iconButton: (theme as any).overrides.MUIDataTableToolbar.icon\n}));\n\ninterface FilterResetButtonProps{\n  handleClick: () => void;\n}\n\nexport const FilterResetButton: React.FC<FilterResetButtonProps> = (props: FilterResetButtonProps) => {\n  const classes = useStyles();\n  return (\n    <Tooltip title={'Limpar Busca'}>\n      <IconButton className={classes.iconButton} onClick={props.handleClick}>\n        <ClearAllIcon/>\n      </IconButton>\n    </Tooltip>\n  );\n};","import React,{useState, useEffect, useRef, useMemo, useCallback} from 'react';\nimport { format, parseISO } from \"date-fns\";\nimport castMemberHttp from '../../util/http/cast-member-http';\nimport { IconButton, MuiThemeProvider } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DefaultTable, { makeActionStyles, MuiDataTableRefComponent, TableColumn } from '../../components/Table';\nimport { useSnackbar } from 'notistack';\nimport useFilter from '../../hooks/useFilter';\nimport * as yup from '../../util/vendor/yup';\nimport { CastMember, CastMemberTypeMap, ListResponse } from '../../util/models';\nimport { FilterResetButton } from '../../components/Table/FilterResetButton';\nimport { invert } from 'lodash';\n\nconst castMemberNames = Object.values(CastMemberTypeMap);\nconst columnsDefinition: TableColumn[] = [\n  {\n    name: \"id\",\n    label: \"ID\",\n    width: \"30%\",\n    options: {\n      sort: false,\n      filter: false\n    }\n  },\n  {\n    name: \"name\",\n    label: \"Nome\",\n    width: \"43%\",\n    options: {\n      filter: false\n    }\n  },\n  {\n    name: \"type\",\n    label: \"Tipo\",\n    width: \"4%\",\n    options: {\n      filterOptions: {\n        names: castMemberNames\n      },\n      customBodyRender: (value) => {\n        return CastMemberTypeMap[value];\n      }\n    }\n   \n  },\n  {\n    name: \"created_at\",\n    label: \"Criado em\",\n    width: \"10%\",\n    options: {\n      filter: false,\n      customBodyRender(value, tableMeta, updateValue){\n      return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n      }\n    }\n  },\n  {\n    name: \"actions\",\n    label: \"Ações\",\n    width: \"13%\",\n    options: {\n      filter:false,\n      sort: false,\n      customBodyRender: (value, tableMeta) => {\n        return (\n          <IconButton\n            color={'secondary'}\n            component={Link}\n            to={`/cast-members/${tableMeta.rowData[0]}/edit`}\n          >\n            <EditIcon/>\n          </IconButton>\n    \n        )\n      }\n    }\n  }\n];\n\nconst debounceTime = 300;\nconst debounceSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15,25,50];\n\nconst Table = () => {\n\n  const {enqueueSnackbar} = useSnackbar();\n  const subscribed = useRef(true);\n  const [data, setData] = useState<CastMember[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n  const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n  const extraFilter = useMemo(()=> ({\n    createValidationSchema: () => {\n      return yup.object().shape({\n        type: yup.string()\n                .nullable()\n                .transform( value => {\n                  return !value || !castMemberNames.includes(value)? undefined: value;\n                })\n                .default(null)\n      })\n    },\n    formatSearchParams: (debouncedState) => {\n      return debouncedState.extraFilter? {\n        ...(\n          debouncedState.extraFilter.type &&\n          {type: debouncedState.extraFilter.type}\n        )\n      } : undefined\n    },\n    getStateFromURL: (queryParams) => {\n      return {\n        type: queryParams.get('type')\n      }\n    }\n  }), []);\n  const {\n    columns,\n    filterManager,\n    cleanSearchText,\n    filterState,\n    debouncedFilterState,\n    dispatch,\n    totalRecords,\n    setTotalRecords\n  } = useFilter({\n    columns: columnsDefinition,\n    debounceTime: debounceTime,\n    rowsPerPage: rowsPerPage,\n    rowsPerPageOptions: rowsPerPageOptions,\n    tableRef,\n    extraFilter\n  });\n  const searchText = cleanSearchText(debouncedFilterState.search);\n  const indexColumnType = columns.findIndex(c => c.name === 'type');\n  const columnType = columns[indexColumnType];\n  const typeFilterValue = filterState.extraFilter && filterState.extraFilter.type as never;\n  (columnType.options as any).filterList = typeFilterValue ? [typeFilterValue]: []\n  \n  const serverSideFilterList = columns.map(columns => []);\n  if (typeFilterValue) {\n    serverSideFilterList[indexColumnType] = [typeFilterValue];\n  }\n\n  const getData = useCallback(async ({search, page, per_page, sort, dir, type}) => {\n    setLoading(true);\n    try {\n      const {data} = await castMemberHttp.list<ListResponse<CastMember>>({\n        queryParams: {\n          search,\n          page,\n          per_page,\n          sort,\n          dir,\n          ...(\n            type && \n            {type: invert(CastMemberTypeMap)[type]}\n          )\n        }\n      });\n      if(subscribed.current){\n        setData(data.data);\n        setTotalRecords(data.meta.total);\n      }\n    } catch(error){\n      console.error(error);\n      if(castMemberHttp.isCancelledRequest(error)){\n        return;\n      }\n      enqueueSnackbar(\n        'Não foi possível carregar as informações',\n        {variant: 'error'}\n      )\n    } finally {\n      setLoading(false)\n    }\n  }, [setTotalRecords, enqueueSnackbar]);\n\n  useEffect(() => {\n    subscribed.current = true;\n    getData({\n      search: searchText,\n      page: debouncedFilterState.pagination.page,\n      per_page: debouncedFilterState.pagination.per_page,\n      sort: debouncedFilterState.order.sort,\n      dir: debouncedFilterState.order.dir,\n      type: debouncedFilterState?.extraFilter?.type\n    });\n    return () => {\n      subscribed.current = false;\n    }\n   \n  }, [\n    getData,\n    searchText,\n    debouncedFilterState.pagination.page,\n    debouncedFilterState.pagination.per_page,\n    debouncedFilterState.order,\n    debouncedFilterState.extraFilter\n  ]);\n\n  \n  return (\n    <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length-1)}>\n      <DefaultTable\n        title=\"Listagem de membros\"\n        columns={columns}\n        data={data}\n        loading={loading}\n        debouncedSearchTime={debounceSearchTime}\n        ref={tableRef}\n        options={{\n          serverSide: true,\n          responsive: \"standard\",\n          searchText: filterState.search as any,\n          page: filterState.pagination.page - 1,\n          rowsPerPage: filterState.pagination.per_page,\n          rowsPerPageOptions,\n          count: totalRecords,\n          onFilterChange: (column, filterList) => {\n            const columnIndex = columns.findIndex(c => c.name === column)\n            filterManager.changeExtraFilter({\n              [column as any]: filterList[columnIndex].length ? filterList[columnIndex][0]: null\n            })\n          },\n          customToolbar: () => (\n            <FilterResetButton \n              handleClick={()=> {\n                filterManager.resetFilter()\n              }}\n            />\n          ),\n          onSearchChange: (value: any) => filterManager.changeSearch(value),\n          onChangePage: (page) => filterManager.changePage(page),\n          onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n          onColumnSortChange: (changedColumn, direction) => \n                              filterManager.changeColumnSort(changedColumn, direction)}}   \n      />\n     </MuiThemeProvider>\n  );\n};\n\nexport default Table;","import { Box, Fab } from '@material-ui/core';\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport { Add as AddIcon } from \"@material-ui/icons\";\nimport Table from './Table';\n\nconst PageList = () => {\n  return (\n    <Page title='Listar membros de elenco'>\n      <Box dir='rtl' paddingBottom={2}>\n        <Fab\n          title=\"Adicionar membro de elenco\"\n          color='secondary'\n          size=\"small\"\n          component={Link}\n          to=\"/cast-members/create\"\n        >\n          <AddIcon/>\n        </Fab>\n      </Box>\n      <Box>\n        <Table/>\n      </Box>\n    </Page>\n  );\n};\n\nexport default PageList;","import { createContext } from \"react\";\n\nconst LoadingContext = createContext(false);\nexport default LoadingContext;\n//provider e consumer são gerados","import { Box, Button, ButtonProps, makeStyles, Theme } from '@material-ui/core';\nimport * as React from 'react';\n\nconst useStyles = makeStyles((theme: Theme) => {\n  return {\n    submit: {\n      margin: theme.spacing(1)\n    }\n  }\n});\n\n\ninterface SubmitActionsProps {\n  disabledButtons?: boolean;\n  handleSave:() => void;\n};\nconst SubmitActions : React.FC<SubmitActionsProps> = (props) => {\n\n  const classes = useStyles();\n  const buttonProps: ButtonProps = {\n    className: classes.submit,\n    color: 'secondary',\n    variant: \"contained\",\n    disabled: props.disabledButtons === undefined ? false: props.disabledButtons\n  };\n\n\n  return (\n    <Box dir={\"ltf\"}>\n        <Button\n          color=\"primary\" \n          {...buttonProps} \n          onClick={props.handleSave}\n        >\n          Salvar\n        </Button>\n        <Button {...buttonProps} type=\"submit\">Salvar e continuar editando</Button>\n      </Box>\n  );\n};\n\nexport default SubmitActions;","import { useSnackbar } from \"notistack\";\nimport { useEffect } from \"react\";\n\nconst useSnackbarFormError = (submitCount, errors) => {\n  const {enqueueSnackbar} = useSnackbar();\n  useEffect(()=>{\n    const hasError = Object.keys(errors).length !==0;\n    if(submitCount > 0 && hasError){\n      enqueueSnackbar(\n        'Formulário inválido. Reveja os campos marcados de vermelho.',\n        {variant: 'error'}\n      );\n    }\n  }, [submitCount, errors, enqueueSnackbar]);\n}\n\nexport default useSnackbarFormError;","import { yupResolver } from '@hookform/resolvers';\nimport { FormControl, FormControlLabel, FormHelperText, FormLabel, Radio, RadioGroup, TextField } from '@material-ui/core';\nimport { useSnackbar } from 'notistack';\nimport * as React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory, useParams } from 'react-router-dom';\nimport LoadingContext from '../../components/Loading/LoadingContext';\nimport SubmitActions from '../../components/SubmitActions';\nimport useSnackbarFormError from '../../hooks/useSnackbarFormError';\nimport castMemberHttp from '../../util/http/cast-member-http';\nimport * as yup from \"../../util/vendor/yup\";\nimport { ParamTypes } from './PageForm';\n\nconst validationSchema = yup.object().shape({\n  name: yup.string()\n          .label('Nome')\n          .required()\n          .max(255),\n  type: yup.number()\n          .label('Tipo')\n          .required(),\n});\n\nexport const Form = () => {\n  const {\n    register,\n    handleSubmit,\n    getValues,\n    errors,\n    setValue,\n    reset,\n    watch,\n    trigger,\n    formState\n  } = useForm({\n    resolver: yupResolver(validationSchema)\n  });\n  \n  useSnackbarFormError(formState.submitCount, errors);\n  \n  const {enqueueSnackbar} = useSnackbar();\n  const history = useHistory();\n  const {id} = useParams<ParamTypes>();\n  const [castMember, setCastMember] = React.useState<{id:string} | null>(null);\n  const loading = React.useContext(LoadingContext);\n\n  React.useEffect(() => {\n    if(!id){ return; }\n\n    async function getCastMember(){\n      try {\n        const {data} = await castMemberHttp.get(id);\n        setCastMember(data.data);\n        reset(data.data);\n      } catch (error) {\n        console.log(error);\n        enqueueSnackbar(\n          'Não foi possível carregar as informações.',\n          {variant: 'error'}\n        );\n      }\n    }\n    getCastMember();\n  }, [id, reset, enqueueSnackbar]);\n\n  async function onSubmit(formData, event){\n    try {\n      const http = !castMember\n      ? castMemberHttp.create(formData)\n      : castMemberHttp.update(castMember.id, formData);\n      const {data} = await http;\n      enqueueSnackbar(\n        'Membro salvo com sucesso.',\n        {variant: \"success\"}\n      );\n      setTimeout(() => {\n        event\n            ? (\n              id \n                ? history.replace(`/cast-members/${data.data.id}/edit`)\n                : history.push(`/cast-members/${data.data.id}/edit`)\n            )\n            : history.push('/cast-members')\n      }); \n    } catch (error) {\n      console.log(error);\n          enqueueSnackbar(\n            'Não foi possível salvar o membro.',\n            {variant: \"error\"}\n          );\n    }\n  } \n\n\n\nReact.useEffect(() => {\n  register({name: \"type\"})\n}, [register]);\n\n\nreturn (\n  <form onSubmit={handleSubmit(onSubmit)}>\n    <TextField\n      name=\"name\"\n      label=\"Nome\"\n      fullWidth\n      variant=\"outlined\"\n      inputRef={register}\n      disabled={loading}\n      error={errors.name !== undefined}\n      helperText={errors.name?.message}\n      InputLabelProps={{shrink: true}}\n    />\n    <FormControl \n      margin=\"normal\"\n      error={errors.name !== undefined}\n      disabled={loading}\n    >\n      <FormLabel component=\"legend\">Tipo</FormLabel>\n      <RadioGroup\n        name=\"type\"\n        onChange={(e) => {\n          setValue('type', parseInt(e.target.value));\n        }}\n        value={watch('type')+ \"\"}\n      >\n        <FormControlLabel value=\"1\" control={<Radio color=\"primary\"/>} label=\"Diretor\"/>\n        <FormControlLabel value=\"2\" control={<Radio color=\"primary\"/>} label=\"Ator\"/>\n      </RadioGroup>\n      {\n        errors.type && <FormHelperText id=\"type-helper-text\">{errors.type.message}</FormHelperText>\n      }\n    </FormControl>\n    <SubmitActions \n            disabledButtons={loading}\n            handleSave={() => trigger().then( isValid => {\n                              isValid && onSubmit(getValues(), null)\n                            })\n                        }\n          />\n  </form>\n)\n}\n\nexport default Form;","import * as React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport Form from './Form';\n\nexport interface ParamTypes{\n  id: string;\n}\n\nconst PageForm = () => {\n  const {id} = useParams<ParamTypes>();\n  return (\n    <Page title={!id ? 'Criar Membro de Equipe': 'Editar Membro de Equipe'}>\n      <Form/>\n    </Page>\n  );\n};\n\nexport default PageForm;","import { httpVideo } from \".\";\nimport HttpResource from \"./http-resource\";\n\nconst categoryHttp = new HttpResource(httpVideo, \"categories\");\n\nexport default categoryHttp;","import { createMuiTheme } from \"@material-ui/core\";\nimport { green, red } from \"@material-ui/core/colors\";\nimport { PaletteOptions, SimplePaletteColorOptions } from \"@material-ui/core/styles/createPalette\";\n\nconst palette: PaletteOptions = {\n    primary: {\n      main: '#79aec8',\n      contrastText: '#eee'\n    },\n    secondary: {\n      main: '#4db5ab',\n      dark: '#055a52',\n      contrastText: '#fff'\n    },\n    background: {\n      default: '#fafafa'\n    },\n    success: {\n      main: green[500],\n      contrastText: '#fff'\n    },\n    error: {\n      main: red.A400\n    },\n\n};\n\nconst theme = createMuiTheme({\n  palette,\n  overrides: {\n    MUIDataTable: {\n      paper: {\n        boxShadow: \"none\",\n      }\n    },\n    MUIDataTableToolbar: {\n      root: {\n        minHeight: '58px',\n        backgroundColor: palette!.background!.default\n      },\n      icon: {\n        color: (palette!.primary as SimplePaletteColorOptions).main,\n        '&:hover, &:active, &:focus' : {\n          color: (palette!.secondary as SimplePaletteColorOptions).dark\n        }\n      },\n      iconActive: {\n        color: (palette!.secondary as SimplePaletteColorOptions).dark,\n        '&:hover, &:active, &:focus' : {\n          color: (palette!.secondary as SimplePaletteColorOptions).dark\n        }\n      }\n    },\n    MUIDataTableHeadCell: {\n      fixedHeader: {\n        paddingTop: 8,\n        paddingBottom: 8,\n        backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\n        color: '#fff',\n        '&[aria-sort]': {\n          backgroundColor: '#459ac4'\n        }\n      },\n      sortActive: {\n        color: '#fff'\n      },\n      sortAction: {\n        alignItems: 'center'\n      },\n      sortLabelRoot: {\n        '& svg': {\n          color: '#fff !important'\n        }\n      }\n    },\n    MuiTableSortLabel: {},\n    MUIDataTableSelectCell: {\n      headerCell: {\n        backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\n        '& span': {\n          color: '#fff !important'\n        }\n      }\n    },\n    MUIDataTableBodyCell: {\n      root: {\n        color: (palette!.secondary as SimplePaletteColorOptions).main,\n        '&:hover, &:active, &:focus' : {\n          color: (palette!.secondary as SimplePaletteColorOptions).main\n        }\n      }\n    },\n    MUIDataTableToolbarSelect: {\n      title: {\n        color: (palette!.primary as SimplePaletteColorOptions).main\n      },\n      iconButton: {\n        color: (palette!.primary as SimplePaletteColorOptions).main\n      }\n    },\n    MUIDataTableBodyRow: {\n      root: {\n        '&:nth-child(odd)': {\n          backgroundColor: palette!.background!.default\n        }\n      }\n    },\n    MUIDataTablePagination: {\n      root: {\n        color: (palette!.primary as SimplePaletteColorOptions).main,\n      }\n    },\n  }\n});\n\nexport default theme;","import { Chip, createMuiTheme, MuiThemeProvider } from '@material-ui/core';\nimport * as React from 'react';\nimport theme from '../theme';\n\nconst localTheme = createMuiTheme({\n  palette: {\n    primary: theme.palette.success,\n    secondary: theme.palette.secondary\n  }\n});\n\nexport const BadgeYes = () => {\n  return (\n    <MuiThemeProvider theme={localTheme}>\n      <Chip label=\"Sim\" color=\"primary\"/>\n    </MuiThemeProvider>\n  );\n};\n\nexport const BadgeNo = () => {\n  return (\n    <MuiThemeProvider theme={localTheme}>\n      <Chip label=\"Não\" color=\"secondary\"/>\n    </MuiThemeProvider>\n  );\n};","import React,{useState, useEffect, useRef, useContext} from 'react';\nimport { format, parseISO } from \"date-fns\";\nimport categoryHttp from '../../util/http/category-http';\nimport { BadgeNo, BadgeYes } from '../../components/Badge';\nimport { Category, ListResponse } from '../../util/models';\nimport DefaultTable, { makeActionStyles, TableColumn, MuiDataTableRefComponent } from '../../components/Table'\nimport { useSnackbar } from 'notistack';\nimport { IconButton, MuiThemeProvider} from '@material-ui/core';\nimport {Link} from 'react-router-dom';\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { FilterResetButton } from '../../components/Table/FilterResetButton';\nimport useFilter from '../../hooks/useFilter';\nimport LoadingContext from '../../components/Loading/LoadingContext';\n\nconst columnsDefinition: TableColumn[] = [\n  {\n    name: \"id\",\n    label: \"ID\",\n    width: \"30%\",\n    options: {\n      sort: false,\n      filter: false\n    }\n  },\n  {\n    name: \"name\",\n    label: \"Nome\",\n    width: \"43%\",\n    options: {\n      filter: false\n    }\n  },\n  {\n    name: \"is_active\",\n    label: \"Ativo?\",\n    width: \"4%\",\n    options: {\n      filterOptions: {\n        names: ['Sim', 'Não']\n      },\n      customBodyRender(value, tableMeta, updateValue){\n        return value ? <BadgeYes/>: <BadgeNo/>\n      }\n    },\n  },\n  {\n    name: \"created_at\",\n    label: \"Criado em\",\n    width: \"10%\",\n    options: {\n      filter: false,\n      customBodyRender(value, tableMeta, updateValue){\n      return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n      }\n    }\n  },\n\n  {\n    name: \"actions\",\n    label: \"Ações\",\n    width: \"13%\",\n    options: {\n      filter: false,\n      sort: false,\n      customBodyRender: (value, tableMeta) => {\n        return (\n          <IconButton\n            color={'secondary'}\n            component={Link}\n            to={`/categories/${tableMeta.rowData[0]}/edit`}\n          >\n            <EditIcon/>\n          </IconButton>\n    \n        )\n      }\n    }\n  }\n];\n\nconst debounceTime = 300;\nconst debounceSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15,25,50];\n\nconst Table = () => {\n  \n  const snackbar = useSnackbar();\n  const subscribed = useRef(true);\n  const [data, setData] = useState<Category[]>([]);\n  const loading = useContext(LoadingContext);\n  const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n  const {\n    columns,\n    filterManager,\n    cleanSearchText,\n    filterState,\n    debouncedFilterState,\n    totalRecords,\n    setTotalRecords\n  } = useFilter({\n    columns: columnsDefinition,\n    debounceTime: debounceTime,\n    rowsPerPage: rowsPerPage,\n    rowsPerPageOptions: rowsPerPageOptions,\n    tableRef,\n  });\n\n  useEffect(() => {\n    subscribed.current = true;\n    getData();\n    return () => {\n      subscribed.current = false;\n    }\n  }, [\n    cleanSearchText(debouncedFilterState.search),\n    debouncedFilterState.pagination.page,\n    debouncedFilterState.pagination.per_page,\n    debouncedFilterState.order\n  ]);\n\n  async function getData(){\n      try {\n        const {data} = await categoryHttp.list<ListResponse<Category>>({\n          queryParams: {\n            search: cleanSearchText(debouncedFilterState.search),\n            page: filterState.pagination.page,\n            per_page: filterState.pagination.per_page,\n            sort: filterState.order.sort,\n            dir: filterState.order.dir\n          }\n        });\n        if(subscribed.current){\n          setData(data.data);\n          setTotalRecords(data.meta.total);\n          // setSearchState(( prevState => ({\n          //   ...prevState,\n          //   pagination: {\n          //     ...prevState.pagination,\n          //     total: data.meta.total\n          //   }\n          // })));\n        }\n      } catch(error){\n        console.error(error);\n        if(categoryHttp.isCancelledRequest(error)){\n          return;\n        }\n        snackbar.enqueueSnackbar(\n          'Não foi possível carregar as informações',\n          {variant: 'error'}\n        )\n      } \n  }\n\n \n\n  return (\n    <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length-1)}>\n      <DefaultTable\n        title=\"Listagem de categorias\"\n        columns={columns}\n        data={data}\n        loading={loading}\n        debouncedSearchTime={debounceSearchTime}\n        ref={tableRef}\n        options={{\n            serverSide: true,\n            responsive: \"standard\",\n            searchText: filterState.search as any,\n            page: filterState.pagination.page - 1,\n            rowsPerPage: filterState.pagination.per_page,\n            rowsPerPageOptions,\n            count: totalRecords,\n            customToolbar: () => (\n              <FilterResetButton \n                handleClick={()=> {\n                  filterManager.resetFilter()\n                }}\n              />\n            ),\n            onSearchChange: (value: any) => filterManager.changeSearch(value),\n            onChangePage: (page) => filterManager.changePage(page),\n            onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n            onColumnSortChange: (changedColumn, direction) => \n                                filterManager.changeColumnSort(changedColumn, direction)\n\n        }}  \n      />\n    </MuiThemeProvider>\n  );\n};\n\nexport default Table;","import { Box, Fab } from '@material-ui/core';\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport { Add as AddIcon } from \"@material-ui/icons\";\nimport Table from './Table';\n\nconst PageList = () => {\n  return (\n    <Page title='Listar Categorias'>\n      <Box dir='rtl' paddingBottom={2}>\n        <Fab\n          title=\"Adicionar Categoria\"\n          color='secondary'\n          size=\"small\"\n          component={Link}\n          to=\"/categories/create\"\n        >\n          <AddIcon/>\n        </Fab>\n      </Box>\n      <Box>\n        <Table/>\n      </Box>\n    </Page>\n  );\n};\n\nexport default PageList;","import { Grid, GridProps, makeStyles, Theme } from '@material-ui/core';\nimport * as React from 'react';\n\nconst useStyles = makeStyles<Theme, any>(theme => ({\n  gridItem: {\n    padding: theme.spacing(1,0)\n  },\n}));\n\ninterface DefaultFormProps extends React.DetailedHTMLProps<React.FormHTMLAttributes<HTMLFormElement>, HTMLFormElement>{\n  GridContainerProps?: GridProps;\n  GridItemProps?: GridProps\n}\n\nexport const DefaultForm : React.FC<DefaultFormProps> = (props) => {\n  const classes = useStyles();\n  const {GridContainerProps, GridItemProps, ...other} = props;\n  \n  return (\n    <form {...other}>\n      <Grid container {...GridContainerProps}>\n        <Grid item className={classes.gridItem} {...GridItemProps}>\n          {props.children}\n        </Grid>\n      </Grid>\n    </form>  \n  );\n};","import { Checkbox, FormControlLabel, TextField } from '@material-ui/core';\nimport { useForm } from \"react-hook-form\";\nimport * as React from 'react';\nimport categoryHttp from '../../util/http/category-http';\nimport { yupResolver } from '@hookform/resolvers'\nimport * as yup from '../../util/vendor/yup';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { ParamTypes } from './PageForm';\nimport { useSnackbar } from 'notistack';\nimport { Category } from '../../util/models';\nimport SubmitActions from '../../components/SubmitActions';\nimport { DefaultForm } from '../../components/DefaultForm';\nimport useSnackbarFormError from '../../hooks/useSnackbarFormError';\nimport LoadingContext from '../../components/Loading/LoadingContext';\n\nconst validationSchema = yup.object().shape({\n  name: yup.string()\n          .label('Nome')\n          .required()\n          .max(255)\n})\n\nexport const Form = () => {\n\n  const {\n    register,\n    handleSubmit,\n    getValues, \n    errors, \n    reset, \n    watch,\n    setValue,\n    trigger,\n    formState\n  } = useForm({\n    resolver: yupResolver(validationSchema),\n    defaultValues: {\n      is_active: true\n    }\n  });\n  useSnackbarFormError(formState.submitCount, errors);\n\n  const {enqueueSnackbar} = useSnackbar();\n  const history = useHistory();\n  const {id} = useParams<ParamTypes>();\n  const [category, setCategory] = React.useState<Category | null>(null);\n  const loading = React.useContext(LoadingContext);\n\n  React.useEffect(() => {\n    register({name: 'is_active'});\n  }, [register]);\n\n  React.useEffect(() => {\n    if(!id){ return; }\n\n    async function getCategory(){\n      try {\n        const {data} = await categoryHttp.get(id);\n        setCategory(data.data);\n        reset(data.data);\n      } catch (error) {\n        console.log(error);\n        enqueueSnackbar(\n          'Não foi possível carregar as informações.',\n          {variant: 'error'}\n        );\n      } \n    }\n    getCategory();\n  }, [id, reset, enqueueSnackbar]);\n\n  async function onSubmit(formData, event){\n   \n    try {\n      const http = !category\n      ? categoryHttp.create(formData)\n      : categoryHttp.update(category.id, formData);\n      const {data} = await http;\n      enqueueSnackbar(\n        'Categoria salva com sucesso.',\n        {variant: \"success\"}\n      );\n      setTimeout(() => {\n        event\n            ? (\n              id \n                ? history.replace(`/categories/${data.data.id}/edit`)\n                : history.push(`/categories/${data.data.id}/edit`)\n            )\n            : history.push('/categories')\n      }); \n    } catch (error) {\n      console.log(error);\n          enqueueSnackbar(\n            'Não foi possível salvar a categoria.',\n            {variant: \"error\"}\n          );\n    }\n   \n  } \n  \n  return (\n        <DefaultForm GridItemProps={{xs:12, md:6}} onSubmit={handleSubmit(onSubmit)}>\n          <TextField\n            name=\"name\"\n            label=\"Nome\"\n            fullWidth\n            variant=\"outlined\"\n            inputRef={register}\n            disabled={loading}\n            error={errors.name !== undefined}\n            helperText={errors.name?.message}\n            InputLabelProps={{shrink: true}}\n          />\n          <TextField\n            name=\"description\"\n            label=\"Descrição\"\n            multiline\n            rows=\"4\"\n            fullWidth\n            variant=\"outlined\"\n            margin=\"normal\"\n            inputRef={register}\n            disabled={loading}\n            InputLabelProps={{shrink: true}}\n          />\n          <FormControlLabel \n            label=\"Ativo?\"\n            labelPlacement=\"end\"\n            disabled={loading}\n            control={\n              <Checkbox\n                name=\"is_active\"\n                color=\"primary\"\n                onChange={\n                  () => {setValue('is_active', !getValues()['is_active'])}\n                }\n                checked={watch('is_active')}\n\n              />\n            }\n          />\n          <SubmitActions \n            disabledButtons={loading}\n            handleSave={() => trigger().then( isValid => {\n                              isValid && onSubmit(getValues(), null)\n                            })\n                        }\n          />\n        </DefaultForm>\n  );\n};\n\nexport default Form;","import * as React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport Form from './Form';\n\nexport interface ParamTypes{\n  id: string;\n}\n\nconst PageForm = () => {\n  const {id} = useParams<ParamTypes>();\n  return (\n    <Page title={!id ? 'Criar categoria': 'Editar Categoria'}>\n      <Form/>\n    </Page>\n  );\n};\n\nexport default PageForm;","// @flow \nimport * as React from 'react';\nimport { Page } from '../components/Page';\ninterface DashboardProps {\n  \n};\nconst Dashboard = (props: DashboardProps) => {\n  return (\n    <Page title='Dashboard'>\n\n    </Page>\n  );\n};\n\nexport default Dashboard;","import { httpVideo } from \".\";\nimport HttpResource from \"./http-resource\";\n\nconst genreHttp = new HttpResource(httpVideo, \"genres\");\n\nexport default genreHttp;","import React,{useState, useEffect, useRef} from 'react';\nimport { format, parseISO } from \"date-fns\";\nimport genreHttp from '../../util/http/genre-http';\nimport DefaultTable, { makeActionStyles, MuiDataTableRefComponent, TableColumn } from '../../components/Table';\nimport { IconButton, MuiThemeProvider } from '@material-ui/core';\nimport {Link} from 'react-router-dom';\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { useSnackbar } from 'notistack';\nimport useFilter from '../../hooks/useFilter';\nimport categoryHttp from '../../util/http/category-http';\nimport * as yup from '../../util/vendor/yup';\nimport { Category, Genre, ListResponse } from '../../util/models';\nimport { BadgeNo, BadgeYes } from '../../components/Badge';\nimport { FilterResetButton } from '../../components/Table/FilterResetButton';\n\nconst columnsDefinition: TableColumn[] = [\n  {\n    name: \"id\",\n    label: \"ID\",\n    width: \"30%\",\n    options: {\n      sort: false,\n      filter: false,\n    }\n  },\n  {\n    name: \"name\",\n    label: \"Nome\",\n    width: \"23%\",\n    options: {\n      filter: false\n    }\n  },\n  {\n    name: \"is_active\",\n    label: \"Ativo?\",\n    width:  '4%',\n    options: {\n      customBodyRender(value, tableMeta, updateValue){\n        return value? <BadgeYes/> : <BadgeNo/>; \n      }\n    }\n  },\n  {\n    name: \"categories\",\n    label: \"Categorias\",\n    width: \"20%\",\n    options: {\n      filterType: 'multiselect',\n      filterOptions: {\n        names: []\n      },\n      customBodyRender(value, tableMeta, updateValue){\n          return (value as any).map((category: any) => category.name).join(', ');\n      }\n    }\n  },\n  {\n    name: \"created_at\",\n    label: \"Criado em\",\n    width: \"10%\",\n    options: {\n      filter: false,\n      customBodyRender(value, tableMeta, updateValue){\n      return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n      }\n    }\n  },\n  {\n    name: \"actions\",\n    label: \"Ações\",\n    width: \"13%\",\n    options: {\n      filter: false,\n      sort: false,\n      customBodyRender: (value, tableMeta) => {\n        return (\n          <IconButton\n            color={'secondary'}\n            component={Link}\n            to={`/genres/${tableMeta.rowData[0]}/edit`}\n          >\n            <EditIcon/>\n          </IconButton>\n    \n        )\n      }\n    }\n  }\n];\n\nconst debounceTime = 300;\nconst debounceSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15,25,50];\n\nconst Table = () => {\n  \n  const snackbar = useSnackbar();\n  const subscribed = useRef(true);\n  const [data, setData] = useState<any[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [categories, setCategories] = useState<Category[]>();\n  const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n  const {\n    columns,\n    filterManager,\n    cleanSearchText,\n    filterState,\n    debouncedFilterState,\n    totalRecords,\n    setTotalRecords\n  } = useFilter({\n    columns: columnsDefinition,\n    debounceTime: debounceTime,\n    rowsPerPage: rowsPerPage,\n    rowsPerPageOptions: rowsPerPageOptions,\n    tableRef,\n    extraFilter: {\n      createValidationSchema: () => {\n        return yup.object().shape({\n          categories: yup.mixed()\n                  .nullable()\n                  .transform( value => {\n                    return !value || value === '' ? undefined: value.split(',');\n                  })\n                  .default(null)\n        })\n      },\n      formatSearchParams: (debouncedState) => {\n        return debouncedState.extraFilter? {\n          ...(\n            debouncedState.extraFilter.categories &&\n            {categories: debouncedState.extraFilter.categories.join(',')}\n          )\n        } : undefined\n      },\n      getStateFromURL: (queryParams) => {\n        return {\n          type: queryParams.get('categories')\n        }\n      }\n    }\n  });\n\n  const indexColumnCategories = columns.findIndex(c => c.name === 'categories');\n  const columnCategories = columns[indexColumnCategories];\n  const categoriesFilterValue = filterState.extraFilter && filterState.extraFilter.categories;\n  (columnCategories.options as any).filterList = categoriesFilterValue\n    ? categoriesFilterValue\n    : [];\n  const serverSideFilterList = columns.map(column => []);\n  if (categoriesFilterValue) {\n    serverSideFilterList[indexColumnCategories] = categoriesFilterValue;\n  }\n  \n\n  useEffect(() => {\n    let isSubscribed = true;\n    (async () => {\n      try {\n        const {data} = await categoryHttp.list({queryParams: {all: ''}});\n        if(isSubscribed){\n          setCategories(data.data);\n          (columnCategories.options as any).filterOptions.names = data.data.map(category => category.name)\n\n          // setData(data.data);\n        }\n      } catch(error){\n        console.error(error);\n        snackbar.enqueueSnackbar(\n          'Não foi possível carregar as informações',\n          {variant: 'error'}\n        )\n      }\n      \n    })();\n\n    return () => {\n      isSubscribed = false;\n    }\n   \n  }, []);\n\n  useEffect(() => {\n    subscribed.current = true;\n    getData();\n    return () => {\n      subscribed.current = false;\n    }\n  },[\n    cleanSearchText(debouncedFilterState.search),\n    debouncedFilterState.pagination.page,\n    debouncedFilterState.pagination.per_page,\n    debouncedFilterState.order\n  ]);\n\n  async function getData(){\n    setLoading(true);\n    try {\n      const {data} = await genreHttp.list<ListResponse<Genre>>({\n        queryParams: {\n          search: cleanSearchText(debouncedFilterState.search),\n          page: filterState.pagination.page,\n          per_page: filterState.pagination.per_page,\n          sort: filterState.order.sort,\n          dir: filterState.order.dir,\n          ...(\n            debouncedFilterState.extraFilter &&\n            debouncedFilterState.extraFilter.categories &&\n            {categories: debouncedFilterState.extraFilter.categories.join(',')}\n          )\n        }\n      });\n      if(subscribed.current){\n        setData(data.data);\n        setTotalRecords(data.meta.total);\n        // setSearchState(( prevState => ({\n        //   ...prevState,\n        //   pagination: {\n        //     ...prevState.pagination,\n        //     total: data.meta.total\n        //   }\n        // })));\n      }\n    } catch(error){\n      console.error(error);\n      if(genreHttp.isCancelledRequest(error)){\n        return;\n      }\n      snackbar.enqueueSnackbar(\n        'Não foi possível carregar as informações',\n        {variant: 'error'}\n      )\n    } finally {\n      setLoading(false)\n    }\n}\n  return (\n    <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length-1)}>\n      <DefaultTable\n        title=\"Listagem de gêneros\"\n        columns={columns}\n        data={data}  \n        loading={loading}\n        debouncedSearchTime={debounceSearchTime}\n        ref={tableRef}\n        options={{\n          serverSide:true,\n          responsive: \"standard\",\n          searchText: filterState.search as any,\n          page: filterState.pagination.page - 1,\n          rowsPerPage: filterState.pagination.per_page,\n          rowsPerPageOptions,\n          count: totalRecords,\n          onFilterChange: (column, filterList, type) => {\n            const columnIndex = columns.findIndex(c => c.name === column);\n            filterManager.changeExtraFilter({\n              [column as string] : filterList[columnIndex].length ? filterList[columnIndex]: null\n            })\n          },\n          customToolbar: () => (\n            <FilterResetButton \n              handleClick={()=> {\n                filterManager.resetFilter()\n              }}\n            />\n          ),\n          onSearchChange: (value: any) => filterManager.changeSearch(value),\n          onChangePage: (page) => filterManager.changePage(page),\n          onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n          onColumnSortChange: (changedColumn, direction) => \n                              filterManager.changeColumnSort(changedColumn, direction)\n        }}  \n      />\n    </MuiThemeProvider>\n  );\n};\n\nexport default Table;","import { Box, Fab } from '@material-ui/core';\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport { Add as AddIcon } from \"@material-ui/icons\";\nimport Table from './Table';\n\nconst PageList = () => {\n  return (\n    <Page title='Listagem de gêneros'>\n      <Box dir='rtl' paddingBottom={2}>\n        <Fab\n          title=\"Adicionar Gênero\"\n          color='secondary'\n          size=\"small\"\n          component={Link}\n          to=\"/genres/create\"\n        >\n          <AddIcon/>\n        </Fab>\n      </Box>\n      <Box>\n        <Table/>\n      </Box>\n    </Page>\n  );\n};\n\nexport default PageList;","import { MenuItem, TextField } from '@material-ui/core';\nimport * as React from 'react';\nimport { useForm } from 'react-hook-form';\nimport categoryHttp from '../../util/http/category-http';\nimport genreHttp from '../../util/http/genre-http';\nimport { yupResolver } from '@hookform/resolvers'\nimport * as yup from '../../util/vendor/yup';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { ParamTypes } from './PageForm';\nimport { useSnackbar } from 'notistack';\nimport { DefaultForm } from '../../components/DefaultForm';\nimport SubmitActions from '../../components/SubmitActions';\nimport useSnackbarFormError from '../../hooks/useSnackbarFormError';\nimport LoadingContext from '../../components/Loading/LoadingContext';\n\nconst validationSchema = yup.object().shape({\n  name: yup.string()\n          .label('Nome')\n          .required()\n          .max(255),\n  categories_id: yup.array()\n          .label('Categorias')\n          .required(),\n});\n\nexport const Form = () => {\n  const {\n    register,\n    handleSubmit,\n    getValues,\n    errors,\n    setValue,\n    reset,\n    watch,\n    trigger,\n    formState\n  } = useForm({\n    resolver: yupResolver(validationSchema),\n    defaultValues: {categories_id: []}\n  });\n\n  useSnackbarFormError(formState.submitCount, errors);\n  \n  // const classes = useStyles();\n  const {enqueueSnackbar} = useSnackbar();\n  const history = useHistory();\n  const {id} = useParams<ParamTypes>();\n  const [categories, setCategories] = React.useState<any[]>([])\n  const [genre, setGenre] = React.useState<{id:string} | null>(null);\n  const loading = React.useContext(LoadingContext);\n  // const category = getValues()['categories_id'];\n\n  React.useEffect(() => {\n    let isSubscribed = true;\n    ( async () => {\n      const promises = [categoryHttp.list({queryParams:{all: ''}})];\n      if (id) {\n        promises.push(genreHttp.get(id));\n      }\n      try {\n        const [categoriesResponse, genreResponse] = await Promise.all(promises);\n        if(isSubscribed){\n          setCategories(categoriesResponse.data.data);\n          if(id){\n            setGenre(genreResponse.data.data);\n            reset({\n              ...genreResponse.data.data,\n              categories_id: genreResponse.data.data.categories.map(category => category.id) \n            });\n          }\n        }\n        \n      } catch (error) {\n        console.log(error);\n        enqueueSnackbar(\n          'Não foi possível carregar as informações',\n          {variant: \"error\"}\n        );\n      }\n\n    })();\n    return () => {\n      isSubscribed = false;\n    }\n  \n  }, [id, reset, enqueueSnackbar]);\n  \n  React.useEffect(() => {\n    register({name: \"categories_id\"});\n  }, [register]);\n\n  // React.useEffect(() => {\n  //   categoryHttp\n  //     .list()\n  //     .then(({data}) => setCategories(data.data))\n  // }, [register]);\n\n  async function onSubmit(formData, event){\n    try {\n      const http = !genre\n      ? genreHttp.create(formData)\n      : genreHttp.update(genre.id, formData);\n      const {data} = await http;\n      enqueueSnackbar(\n        'Gênero salvo com sucesso.',\n        {variant: \"success\"}\n      );\n      setTimeout(() => {\n        event\n            ? (\n              id \n                ? history.replace(`/genres/${data.data.id}/edit`)\n                : history.push(`/genres/${data.data.id}/edit`)\n            )\n            : history.push('/genres')\n      }); \n    } catch (error) {\n      console.log(error);\n          enqueueSnackbar(\n            'Não foi possível salvar o gênero.',\n            {variant: \"error\"}\n          );\n    }\n  } \n\n  return (\n    <DefaultForm GridItemProps={{xs: 12, md:6 }} onSubmit={handleSubmit(onSubmit)}>\n      <TextField\n        name=\"name\"\n        label=\"Nome\"\n        fullWidth\n        variant={\"outlined\"}\n        inputRef={register}\n        disabled={loading}\n        error={errors.name !== undefined}\n        helperText={errors.name?.message}\n        InputLabelProps={{shrink: true}}\n      />\n      <TextField\n        select\n        name=\"categories_id\"\n        value={watch('categories_id')}\n        label=\"Categorias\"\n        margin=\"normal\"\n        variant=\"outlined\"\n        fullWidth\n        onChange={(e) => {\n          setValue('categories_id', e.target.value, {shouldValidate: true})\n        }}\n        SelectProps={{\n          multiple: true\n        }}\n        disabled={loading}\n        error={errors.categories_id !== undefined}\n        helperText={errors.categories_id?.message}\n        InputLabelProps={{shrink: true}}\n\n      >\n        <MenuItem value=\"\" disabled>\n          <em>Selecione categorias</em>\n        </MenuItem>\n        {\n          categories.map(\n            (category, key) =>(\n              <MenuItem key={key} value={category.id}>{category.name}</MenuItem>\n            )\n          )\n        }\n      </TextField>\n\n      <SubmitActions \n            disabledButtons={loading}\n            handleSave={() => trigger().then( isValid => {\n                              isValid && onSubmit(getValues(), null)\n                            })\n                        }\n          />\n    </DefaultForm>\n  )\n}\n\nexport default Form;","import * as React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport Form from './Form';\n\nexport interface ParamTypes{\n  id: string;\n}\n\nconst PageForm = () => {\n  const {id} = useParams<ParamTypes>();\n  return (\n    <Page title={!id ? 'Criar Gênero': 'Editar Gênero'}>\n      <Form/>\n    </Page>\n  );\n};\n\nexport default PageForm;","import { httpVideo } from \".\";\nimport HttpResource from \"./http-resource\";\n\nconst videoHttp = new HttpResource(httpVideo, \"videos\");\n\nexport default videoHttp;","// @flow \nimport { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core';\nimport * as React from 'react';\ninterface DeleteDialogProps {\n  open: boolean;\n  handleClose: (confirmed: boolean) => void;\n};\nexport const DeleteDialog = (props: DeleteDialogProps) => {\n  const {open, handleClose} = props;\n\n  return (\n    <Dialog\n      open={open}\n      onClose={()=> handleClose(false)}\n    >\n      <DialogTitle>\n        Exclusão de Registros\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Deseja realmente excluir este(s) registro(s)?\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => handleClose(false)} color=\"primary\">\n          Cancelar\n        </Button>\n        <Button onClick={() => handleClose(true)} color=\"primary\" autoFocus>\n          Excluir\n        </Button>\n      </DialogActions>\n\n    </Dialog>\n  );\n};","import { useEffect, useState } from \"react\";\n\nconst useDeleteCollection = () => {\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n  const [rowsToDelete, setRowsToDelete] = useState<{data: Array<{index, dataIndex}>}>({data: []});\n\n  useEffect(()=>{\n    if(rowsToDelete.data.length){\n      setOpenDeleteDialog(true);\n    }\n  }, [rowsToDelete]);\n\n  return {\n    openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete\n  }\n}\n\nexport default useDeleteCollection;","import React,{useState, useEffect, useRef, useContext} from 'react';\nimport { format, parseISO } from \"date-fns\";\nimport DefaultTable, { makeActionStyles, MuiDataTableRefComponent, TableColumn } from '../../components/Table';\nimport { IconButton, MuiThemeProvider } from '@material-ui/core';\nimport {Link} from 'react-router-dom';\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { useSnackbar } from 'notistack';\nimport useFilter from '../../hooks/useFilter';\nimport { ListResponse, Video } from '../../util/models';\nimport { FilterResetButton } from '../../components/Table/FilterResetButton';\nimport videoHttp from '../../util/http/video-http';\nimport { DeleteDialog } from '../../components/DeleteDialog';\nimport useDeleteCollection from '../../hooks/useDeleteCollection';\nimport LoadingContext from '../../components/Loading/LoadingContext';\n\nconst columnsDefinition: TableColumn[] = [\n  {\n    name: \"id\",\n    label: \"ID\",\n    width: \"30%\",\n    options: {\n      sort: false,\n      filter: false,\n    }\n  },\n  {\n    name: \"title\",\n    label: \"Título\",\n    width: \"20%\",\n    options: {\n      filter: false\n    }\n  },\n  {\n    name: \"genres\",\n    label: \"Gêneros\",\n    width: \"13%\",\n    options: {\n      sort: false,\n      filter: false,\n      customBodyRender(value, tableMeta, updateValue){\n          return (value as any).map((value: any) => value.name).join(', ');\n      }\n    }\n  },\n  {\n    name: \"categories\",\n    label: \"Categorias\",\n    width: \"12%\",\n    options: {\n      sort:false,\n      filter: false,\n\n      customBodyRender(value, tableMeta, updateValue){\n          return (value as any).map((category: any) => category.name).join(', ');\n      }\n    }\n  },\n  {\n    name: \"created_at\",\n    label: \"Criado em\",\n    width: \"10%\",\n    options: {\n      filter: false,\n      customBodyRender(value, tableMeta, updateValue){\n      return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n      }\n    }\n  },\n  {\n    name: \"actions\",\n    label: \"Ações\",\n    width: \"13%\",\n    options: {\n      filter: false,\n      sort: false,\n      customBodyRender: (value, tableMeta) => {\n        return (\n          <IconButton\n            color={'secondary'}\n            component={Link}\n            to={`/videos/${tableMeta.rowData[0]}/edit`}\n          >\n            <EditIcon/>\n          </IconButton>\n    \n        )\n      }\n    }\n  }\n];\n\nconst debounceTime = 300;\nconst debounceSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15,25,50];\n\nconst Table = () => {\n  \n  const snackbar = useSnackbar();\n  const subscribed = useRef(true);\n  const [data, setData] = useState<Video[]>([]);\n  const loading = useContext(LoadingContext);\n  const {openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete} = useDeleteCollection()\n  const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n  const {\n    columns,\n    filterManager,\n    cleanSearchText,\n    filterState,\n    debouncedFilterState,\n    dispatch,\n    totalRecords,\n    setTotalRecords\n  } = useFilter({\n    columns: columnsDefinition,\n    debounceTime: debounceTime,\n    rowsPerPage: rowsPerPage,\n    rowsPerPageOptions: rowsPerPageOptions,\n    tableRef,\n  });\n\n  useEffect(() => {\n    subscribed.current = true;\n    getData();\n    return () => {\n      subscribed.current = false;\n    }\n  },[\n    cleanSearchText(debouncedFilterState.search),\n    debouncedFilterState.pagination.page,\n    debouncedFilterState.pagination.per_page,\n    debouncedFilterState.order\n  ]);\n\n  async function getData(){\n    try {\n      const {data} = await videoHttp.list<ListResponse<Video>>({\n        queryParams: {\n          search: cleanSearchText(debouncedFilterState.search),\n          page: filterState.pagination.page,\n          per_page: filterState.pagination.per_page,\n          sort: filterState.order.sort,\n          dir: filterState.order.dir,\n        }\n      });\n      if(subscribed.current){\n        setData(data.data);\n        setTotalRecords(data.meta.total);\n        if(openDeleteDialog){\n          setOpenDeleteDialog(false);\n        }\n        // setSearchState(( prevState => ({\n        //   ...prevState,\n        //   pagination: {\n        //     ...prevState.pagination,\n        //     total: data.meta.total\n        //   }\n        // })));\n      }\n    } catch(error){\n      console.error(error);\n      if(videoHttp.isCancelledRequest(error)){\n        return;\n      }\n      snackbar.enqueueSnackbar(\n        'Não foi possível carregar as informações',\n        {variant: 'error'}\n      )\n    }\n  }\n\n  function deleteRows(confirmed: boolean){\n    if(!confirmed){\n      setOpenDeleteDialog(false);\n      return;\n    }\n    const ids = rowsToDelete\n              .data\n              .map(value => data[value.index].id)\n              .join(',')\n    videoHttp\n          .deleteCollection({ids})\n          .then(response => {\n            snackbar.enqueueSnackbar(\n              'Registros excluídos com sucesso',\n              {variant: 'success'}\n            );\n            if(rowsToDelete.data.length === filterState.pagination.per_page\n                && filterState.pagination.page > 1  \n            ){\n              const page = filterState.pagination.page - 2;\n              filterManager.changePage(page);\n            }else {\n              getData();\n            }\n            \n          })\n          .catch((error) => {\n            console.error(error);\n            snackbar.enqueueSnackbar(\n              'Não foi possível excluir os registros',\n              {variant: 'error'}\n            )\n          });\n  }\n  return (\n    <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length-1)}>\n      <DeleteDialog open={openDeleteDialog} handleClose={deleteRows}/>\n      <DefaultTable\n        title=\"Listagem de Vídeos\"\n        columns={columns}\n        data={data}  \n        loading={loading}\n        debouncedSearchTime={debounceSearchTime}\n        ref={tableRef}\n        options={{\n          serverSide:true,\n          responsive: \"standard\",\n          searchText: filterState.search as any,\n          page: filterState.pagination.page - 1,\n          rowsPerPage: filterState.pagination.per_page,\n          rowsPerPageOptions,\n          count: totalRecords,\n          customToolbar: () => (\n            <FilterResetButton \n              handleClick={()=> {\n                filterManager.resetFilter()\n              }}\n            />\n          ),\n          onSearchChange: (value: any) => filterManager.changeSearch(value),\n          onChangePage: (page) => filterManager.changePage(page),\n          onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n          onColumnSortChange: (changedColumn, direction) => \n                              filterManager.changeColumnSort(changedColumn, direction),\n          onRowsDelete: (rowsDeleted) => {\n            setRowsToDelete(rowsDeleted as any);\n            return false;\n          }\n        }}  \n      />\n    </MuiThemeProvider>\n  );\n};\n\nexport default Table;","import { Box, Fab } from '@material-ui/core';\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport { Add as AddIcon } from \"@material-ui/icons\";\nimport Table from './Table';\n\nconst PageList = () => {\n  return (\n    <Page title='Listagem de vídeos'>\n      <Box dir='rtl' paddingBottom={2}>\n        <Fab\n          title=\"Adicionar Vídeo\"\n          color='secondary'\n          size=\"small\"\n          component={Link}\n          to=\"/videos/create\"\n        >\n          <AddIcon/>\n        </Fab>\n      </Box>\n      <Box>\n        <Table/>\n      </Box>\n    </Page>\n  );\n};\n\nexport default PageList;","// @flow \nimport { makeStyles, Typography } from '@material-ui/core';\nimport * as React from 'react';\n\nconst useStyles = makeStyles({\n  root: {\n    width: '36px',\n    height: '36px',\n    fontSize: '1.2em',\n    color: '#fff',\n    borderRadius: '4px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});\n\nconst backgroundColors = {\n  'L': \"#39B549\",\n  '10': \"#20A3D4\",\n  '12': \"#E79738\",\n  '14': \"#E35E00\",\n  '16': \"#d00003\",\n  '18': \"#000000\",\n}\n\ninterface RatingProps {\n  rating: 'L' | '10' | '12' | '14' | '16' | '18';\n}\nconst Rating = (props: RatingProps) => {\n  const classes = useStyles();\n  \n  return (\n    <Typography\n      className={classes.root}\n      style={{\n        backgroundColor: backgroundColors[props.rating]\n      }}\n    >\n      {props.rating}\n    </Typography>\n  );\n};\n\nexport default Rating;","// @flow \nimport { Box, FormControl, FormControlLabel, FormControlLabelProps, FormControlProps, FormHelperText, FormLabel, Radio, RadioGroup } from '@material-ui/core';\nimport * as React from 'react';\nimport Rating from '../../../components/Rating';\ninterface RatingFieldProps {\n  value: string;\n  setValue: (value) => void;\n  error?: any;\n  disabled?: boolean;\n  formControlProps? : FormControlProps;\n};\n\nconst ratings:FormControlLabelProps[] = [\n  {value: \"L\", control: <Radio color=\"primary\"/>, label: <Rating rating={'L'}/>, labelPlacement: \"top\"},\n  {value: \"10\", control: <Radio color=\"primary\"/>, label: <Rating rating={'10'}/>, labelPlacement: \"top\"},\n  {value: \"12\", control: <Radio color=\"primary\"/>, label: <Rating rating={'12'}/>, labelPlacement: \"top\"},\n  {value: \"14\", control: <Radio color=\"primary\"/>, label: <Rating rating={'14'}/>, labelPlacement: \"top\"},\n  {value: \"16\", control: <Radio color=\"primary\"/>, label: <Rating rating={'16'}/>, labelPlacement: \"top\"},\n  {value: \"18\", control: <Radio color=\"primary\"/>, label: <Rating rating={'18'}/>, labelPlacement: \"top\"},\n];\nexport const RatingField = (props: RatingFieldProps) => {\n  const {value, setValue, disabled, error} = props;\n  return (\n    <FormControl \n      error={error !== undefined}\n      disabled={disabled === true}\n      {...props.formControlProps}\n    >\n      <FormLabel component=\"legend\">Classificação</FormLabel>\n      <Box paddingTop={1}>\n        <RadioGroup\n          name=\"type\"\n          onChange={(e) => {\n            setValue(e.target.value);\n          }}\n          value={value}\n          row\n        >\n          {\n            ratings.map(\n              (props, key) => <FormControlLabel key={key} {...props}/>\n            )\n          }\n        </RadioGroup>\n      </Box>\n      {\n        error && <FormHelperText>{error.message}</FormHelperText>\n      }\n    </FormControl>\n  );\n};","// @flow \nimport * as React from 'react';\nimport { InputAdornment, TextField, TextFieldProps } from '@material-ui/core';\n\nexport interface InputFileProps {\n  ButtonFile: React.ReactNode\n  InputFileProps?: React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\n  TextFieldProps?: TextFieldProps;\n};\n\nexport interface InputFileComponent extends React.RefAttributes<InputFileComponent> {\n  openWindow: () => void\n  clear: () => void\n}\n\nconst InputFile = React.forwardRef<InputFileComponent, InputFileProps>((props, ref) => {\n  const fileRef = React.useRef() as React.MutableRefObject<HTMLInputElement>;\n  const [fileName, setFileName] = React.useState(\"\");\n  const textFieldProps: TextFieldProps = {\n    variant:'outlined',\n    ...props.TextFieldProps,\n    InputProps:{\n            ...props.TextFieldProps?.InputProps, //pode dar merda\n            readOnly: true, \n            endAdornment: (\n              <InputAdornment position={\"end\"}>\n                {props.ButtonFile}\n              </InputAdornment>\n            )\n    },\n    value: fileName\n  }\n  \n  const inputFileProps = {\n    ...props.InputFileProps,\n    hidden: true,\n    ref: fileRef,\n    onChange(event){\n      const files = event.target.files;\n      if(files.length){\n        setFileName(Array.from(files).map((file: any) => file.name).join(\",\"));\n      }\n      if(props.InputFileProps?.onChange){\n        props.InputFileProps.onChange(event);\n      }\n    }\n  };\n  React.useImperativeHandle(ref, () => ({\n    openWindow: () => fileRef.current.click(),\n    clear: () => setFileName(\"\")\n  }))\n\n  return (\n    <>\n      <input type=\"file\" {...inputFileProps}/>\n      <TextField {...textFieldProps}/>\n    </>\n  );\n});\n\nexport default InputFile;","// @flow \nimport { Button, FormControl, FormControlProps } from '@material-ui/core';\nimport * as React from 'react';\nimport InputFile, { InputFileComponent } from '../../../components/InputFile';\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\n\ninterface UploadFieldProps {\n  accept: string;\n  label: string;\n  setValue: (value) => void;\n  error?: any;\n  disabled?: boolean;\n  formControlProps? : FormControlProps;\n};\n\nexport interface UploadFieldComponent extends React.RefAttributes<InputFileComponent> {\n  clear: () => void\n}\n\nconst UploadField = React.forwardRef<UploadFieldComponent, UploadFieldProps>((props, ref) => {\n  const fileRef = React.useRef() as React.MutableRefObject<InputFileComponent>;\n  const { accept, label, setValue, disabled, error} = props;\n\n  React.useImperativeHandle(ref, () => ({\n    clear: () => fileRef.current.clear()\n  }));\n  return (\n    <FormControl \n      error={error !== undefined}\n      disabled={disabled === true}\n      fullWidth\n      margin={\"normal\"}\n      {...props.formControlProps}\n    >\n     <InputFile\n        ref={fileRef}\n        TextFieldProps={{\n          label: label,\n          InputLabelProps: {\n            shrink:true\n          },\n          style: {backgroundColor: '#ffffff'}\n        }}\n        InputFileProps={{\n          accept,\n          onChange(event){\n            event.target.files?.length &&\n              setValue(event.target.files[0])\n          }\n        }} \n        ButtonFile={\n          <Button\n                  endIcon={<CloudUploadIcon/>}\n                  variant={\"contained\"}\n                  color={\"primary\"}\n                  onClick={() => fileRef.current.openWindow()}\n                >\n                  Adicionar\n          </Button>\n        }\n    />\n    </FormControl>\n  );\n});\n\nexport default UploadField;","import { CircularProgress, TextField, TextFieldProps } from '@material-ui/core';\nimport { Autocomplete, AutocompleteProps } from \"@material-ui/lab\";\nimport * as React from 'react';\nimport { useDebounce } from 'use-debounce/lib';\n\ninterface AsyncAutocompleteProps extends React.RefAttributes<AsyncAutocompleteProps>{\n  fetchOptions: (searchText) => Promise<any>\n  debounceTime?: number;\n  TextFieldProps?: TextFieldProps;\n  AutoCompleteProps?: Omit<AutocompleteProps<any, any, any, any>, 'renderInput'| 'options'>;\n};\n\nexport interface AsyncAutoCompleteComponent {\n  clear: () => void\n}\n\n\nconst AsyncAutocomplete = React.forwardRef<AsyncAutoCompleteComponent, AsyncAutocompleteProps>( (props, ref) => {\n  \n  const {AutoCompleteProps, debounceTime = 300, fetchOptions} = props;\n  const {freeSolo = false, onOpen, onClose, onInputChange } = AutoCompleteProps as any;\n  const [open, setOpen] = React.useState(false);\n  const [searchText, setSearchText] = React.useState(\"\");\n  const [debouncedSearchText] = useDebounce(searchText, debounceTime);\n  const [loading, setLoading] = React.useState(false);\n  const [options, setOptions] = React.useState([]);\n  const TextFieldProps: TextFieldProps = {\n    margin:'normal',\n    variant: 'outlined',\n    fullWidth: true,\n    InputLabelProps: {shrink: true},\n    ...(props.TextFieldProps && {...props.TextFieldProps})\n  }\n  \n  const autoCompleteProps: AutocompleteProps<any, any, any, any> = {\n    loadingText: \"Carregando...\",\n    noOptionsText: \"Nenhum item encontrado.\",  \n    ...(AutoCompleteProps && {...AutoCompleteProps}),\n    open,\n    options,\n    loading: loading,\n    inputValue: searchText,\n    onOpen(event){\n      setOpen(true);\n      onOpen && onOpen(event)\n    },\n    onClose(event, reason){\n      setOpen(false);\n      onClose && onClose(event, reason);\n    },\n    onInputChange(event, value, reason){\n      setSearchText(value);\n      onInputChange && onInputChange(event, value, reason);\n    },\n    renderInput:  params => (\n      <TextField \n        {...params}\n        {...TextFieldProps}\n        InputProps={{\n          ...params.InputProps,\n          endAdornment: (\n            <>\n              {loading && <CircularProgress color={\"inherit\"} size={20}/>}\n              {params.InputProps.endAdornment}\n            </>\n          )\n        }}\n      />\n    )\n  };\n\n  React.useEffect(()=> {\n    if (!open && !freeSolo){\n      setOptions([]);\n    }\n  }, [open, freeSolo])\n\n  React.useEffect(() => {\n    if(!open){\n      return;\n    }\n    if(debouncedSearchText === \"\" && freeSolo){\n      return;\n    }\n    let isSubscribed = true;\n    (\n    async() =>{\n      setLoading(true);\n      try{\n        const data = await fetchOptions(debouncedSearchText);\n        if(isSubscribed) {\n          setOptions(data);\n        }\n      } finally {\n        setLoading(false);\n      }\n    })();\n    return () => {\n      isSubscribed = false;\n    }\n  },[freeSolo,debouncedSearchText,open, fetchOptions]);\n\n  React.useImperativeHandle(ref, () => ({\n    clear: () => {\n      setSearchText(\"\");\n      setOptions([]);\n    }\n  }));\n  return (\n    <Autocomplete {...autoCompleteProps}/>\n  );\n});\n\nexport default AsyncAutocomplete;","import * as React from 'react';\nimport Grid, { GridProps } from \"@material-ui/core/Grid\";\nimport { createStyles, makeStyles, Theme } from '@material-ui/core';\n\nconst useStyles = makeStyles( (theme: Theme) => \n  createStyles({\n    root: {\n      backgroundColor: \"#f1f1f1\",\n      borderRadius: '4px',\n      padding: theme.spacing(1,1),\n      color: theme.palette.secondary.main\n    },\n  }),\n);\n\ninterface GridSelectedProps extends GridProps {\n  \n};\n\nexport const GridSelected = (props: GridSelectedProps) => {\n  const classes = useStyles();\n\n  return (\n    <Grid container wrap={\"wrap\"} className={classes.root} {...props}>\n      {props.children}      \n    </Grid>\n  );\n};","import { Grid, GridProps, IconButton } from '@material-ui/core';\nimport * as React from 'react';\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\ninterface GridSelectedItemProps extends GridProps{\n  onDelete: () => void;\n};\nconst GridSelectedItem = (props: GridSelectedItemProps) => {\n  const {onDelete, children, ...other} = props;\n  return (\n    <Grid item {...other}>\n      <Grid container alignItems={\"center\"} spacing={3}>\n        <Grid item xs={1}>\n          <IconButton size={\"small\"} color={\"inherit\"} onClick={onDelete}>\n            <DeleteIcon/>\n          </IconButton>\n        </Grid>\n        <Grid item xs={10} md={11}>\n          {children}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default GridSelectedItem;","import { useSnackbar } from \"notistack\";\n\nconst useCollectionManager = (collection: any[], setCollection: (item) => void) => {\n  const snackbar = useSnackbar();\n  return {\n    addItem(item){\n      if(!item || item === \"\"){\n        return;\n      }\n      const exists = collection.find(i => i.id === item.id)\n      if(exists) {\n        snackbar.enqueueSnackbar(\n          'Item já adicionado', {variant: 'info'}\n        );\n        return;\n      }\n      collection.unshift(item);\n      setCollection(collection);\n\n    },\n    removeItem(item){\n      const index = collection.findIndex(i => i.id === item.id)\n      if(index === -1){\n        return;\n      }\n      collection.splice(index, 1);\n      setCollection(collection);\n    }\n  }\n}\n\nexport default useCollectionManager;","import axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport { useCallback } from \"react\";\n\nconst useHttpHandled = () => {\n  const {enqueueSnackbar} = useSnackbar();\n  return useCallback(async (request: Promise<any>) => {\n    try{\n      const {data} = await request;\n      return data;\n    }catch(e){\n      console.log(e);\n      if(!axios.isCancel(e)){\n        enqueueSnackbar(\n          'Não foi possível carregar as informações',\n          {variant: 'error'}\n        );\n      }\n      throw e;\n    }\n  }, [enqueueSnackbar]);\n}\n\nexport default useHttpHandled;","import { Category, Genre } from \"./models\";\n\nexport function getGenresFromCategory(genres: Genre[], category: Category) {\n  return genres.filter(\n    genre => genre.categories.filter(cat => cat.id === category.id).length !== 0 \n  );\n}","// @flow \nimport { FormControl, FormControlProps, FormHelperText, Typography, useTheme } from '@material-ui/core';\nimport * as React from 'react';\nimport AsyncAutocomplete, { AsyncAutoCompleteComponent } from '../../../components/AsyncAutocomplete';\nimport { GridSelected } from '../../../components/GridSelected';\nimport GridSelectedItem from '../../../components/GridSelectedItem';\nimport useCollectionManager from '../../../hooks/useCollectionManager';\nimport useHttpHandled from '../../../hooks/useHttpHandled';\nimport genreHttp from '../../../util/http/genre-http';\nimport { getGenresFromCategory } from '../../../util/model-filters';\n\ninterface GenreFieldProps extends React.RefAttributes<GenreFieldProps>{\n  genres: any[];\n  setGenres: (genres) => void\n  categories: any[];\n  setCategories: (categories) => void\n  error: any,\n  disabled?: boolean\n  FormControlProps? : FormControlProps;\n\n};\n\nexport interface GenreFieldComponent {\n  clear: () => void\n}\nconst GenreField = React.forwardRef<GenreFieldComponent, GenreFieldProps> ((props, ref) => {\n  const {\n    disabled,\n    error,\n    genres,\n    setGenres,\n    categories,\n    setCategories\n  } = props;\n  const autocompleteHttp = useHttpHandled();\n  const {addItem, removeItem} = useCollectionManager(genres, setGenres);\n  const {removeItem: removeCategory} = useCollectionManager(categories, setCategories);\n  const autocompleteRef = React.useRef() as React.MutableRefObject<AsyncAutoCompleteComponent>\n  const theme = useTheme();\n  \n  const fetchOptions = React.useCallback((searchText) => {\n    return autocompleteHttp( \n      genreHttp.list({\n        queryParams: {\n          search: searchText, all: \"\"\n        }\n      })\n    ).then(data => data.data);\n  }, [autocompleteHttp]);\n  \n  React.useImperativeHandle(ref, () => ({\n    clear: () => autocompleteRef.current.clear()\n  }));\n\n  return (\n    <>\n      <AsyncAutocomplete\n        ref={autocompleteRef}\n        fetchOptions={fetchOptions}\n        TextFieldProps={{\n          label: \"Gêneros\",\n          error: error !== undefined\n        }}\n        AutoCompleteProps={{\n          // autoSelect: true,\n          clearOnEscape: true,\n          freeSolo: true,\n          getOptionSelected: (option, value) => option.id === value.id,\n          getOptionLabel: option => option.name,\n          onChange: (event, value) => addItem(value),\n          disabled,\n        }}\n      />\n      <FormHelperText style={{height: theme.spacing(3)}}>\n        Escolha os gêneros do vídeo\n      </FormHelperText>\n      <FormControl\n        margin={\"normal\"}\n        fullWidth\n        error={error!== undefined}\n        disabled={disabled === true}\n        {...props.FormControlProps}\n      >\n        <GridSelected>\n          {\n            genres.map((genre, key) => (\n              <GridSelectedItem \n                key={key} \n                onDelete={() => {\n                  const categoriesWithOneGenre = categories\n                                      .filter(category => {\n                                        const genresFromCategory = getGenresFromCategory(genres, category);\n                                        return genresFromCategory.length === 1 && genres[0].id === genre.id\n                                      });\n                  categoriesWithOneGenre.forEach(cat => removeCategory(cat));\n                  removeItem(genre)\n                }} \n                xs={12}\n              >\n                <Typography>\n                  {genre.name}\n                </Typography>\n              </GridSelectedItem>\n            ))\n          }\n        \n        </GridSelected>\n        {\n          error && <FormHelperText>{error.message}</FormHelperText>\n        }\n      </FormControl>\n    </>\n  );\n});\n\nexport default GenreField;","// @flow \nimport { FormControl, FormControlProps, FormHelperText, makeStyles, Theme, Typography, useTheme } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\nimport * as React from 'react';\nimport AsyncAutocomplete, { AsyncAutoCompleteComponent } from '../../../components/AsyncAutocomplete';\nimport { GridSelected } from '../../../components/GridSelected';\nimport GridSelectedItem from '../../../components/GridSelectedItem';\nimport useCollectionManager from '../../../hooks/useCollectionManager';\nimport useHttpHandled from '../../../hooks/useHttpHandled';\nimport categoryHttp from '../../../util/http/category-http';\nimport { getGenresFromCategory } from '../../../util/model-filters';\nimport { Genre } from '../../../util/models';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  genresSubtitle: {\n    fontSize: '0.8em',\n    color: grey[\"800\"]\n  }\n}));\n\ninterface CategoryFieldProps extends React.RefAttributes<CategoryFieldProps> {\n  categories: any[];\n  setCategories: (categories) => void;\n  genres: Genre[];\n  error: any,\n  disabled?: boolean\n  FormControlProps? : FormControlProps;\n};\n\nexport interface CategoryFieldComponent {\n  clear: () => void\n}\n\nconst CategoryField = React.forwardRef<CategoryFieldComponent, CategoryFieldProps> ((props, ref) => {\n  const {error, disabled, categories, setCategories, genres} = props;\n  const classes = useStyles();\n  const autocompleteHttp = useHttpHandled();\n  const {addItem, removeItem} = useCollectionManager(categories, setCategories);\n  const autocompleteRef = React.useRef() as React.MutableRefObject<AsyncAutoCompleteComponent>\n  const theme = useTheme();\n  \n  const fetchOptions = React.useCallback((searchText) => {\n    return autocompleteHttp( \n      categoryHttp.list({\n        queryParams: {\n          genres: genres.map(genre => genre.id).join(','),\n          all: \"\"\n        }\n      })\n    ).then(data => data.data);\n  }, [autocompleteHttp]);\n  \n  \n  React.useImperativeHandle(ref, () => ({\n    clear: () => autocompleteRef.current.clear()\n  }));\n  \n  return (\n    <>\n      <AsyncAutocomplete\n        ref={autocompleteRef}\n        fetchOptions={fetchOptions}\n        TextFieldProps={{\n          label: \"Categorias\",\n          error: error !== undefined\n        }}\n        AutoCompleteProps={{\n          // autoSelect: true,\n          clearOnEscape: true,\n          getOptionSelected: (option, value) => option.id === value.id,\n          getOptionLabel: option => option.name,\n          onChange: (event, value) =>addItem(value),\n          disabled: disabled ===true || !genres.length,\n        }}\n      />\n        <FormHelperText style={{height: theme.spacing(3)}}>\n        Escolha pelo menos uma categoria de cada gênero\n        </FormHelperText>\n       <FormControl\n        margin={\"normal\"}\n        fullWidth\n        error={error!== undefined}\n        disabled={disabled === true}\n        {...props.FormControlProps}\n      >\n        <GridSelected>\n          {\n              categories.map((category, key) => {\n                const genresFromCategory = getGenresFromCategory(genres, category)\n                                  .map(genre => genre.name).join(',');\n                return (\n                  <GridSelectedItem \n                    key={key} \n                    onDelete={() => removeItem(category)} \n                    xs={12}>\n                    <Typography noWrap={true}>\n                      {category.name}\n                    </Typography>\n                    <Typography noWrap={true} className={classes.genresSubtitle}>\n                      Gêneros: {genresFromCategory}\n                    </Typography>\n                  </GridSelectedItem>\n                )\n              })\n            }\n        </GridSelected>\n        {\n          error && <FormHelperText>{error.message}</FormHelperText>\n        }\n      </FormControl>\n    </>\n  );\n});\n\nexport default CategoryField;","// @flow \nimport { FormControl, FormControlProps, FormHelperText, Typography } from '@material-ui/core';\nimport * as React from 'react';\nimport AsyncAutocomplete, {AsyncAutoCompleteComponent} from '../../../components/AsyncAutocomplete';\nimport { GridSelected } from '../../../components/GridSelected';\nimport GridSelectedItem from '../../../components/GridSelectedItem';\nimport useCollectionManager from '../../../hooks/useCollectionManager';\nimport useHttpHandled from '../../../hooks/useHttpHandled';\nimport castMemberHttp from '../../../util/http/cast-member-http';\n\ninterface CastMemberFieldProps extends React.RefAttributes<CastMemberFieldProps> {\n  castMembers: any[];\n  setCastMembers: (castMembers) => void\n  error: any,\n  disabled?: boolean\n  FormControlProps? : FormControlProps;\n};\n\nexport interface CastMemberFieldComponent {\n  clear: () => void\n}\n\nconst CastMemberField = React.forwardRef<CastMemberFieldComponent, CastMemberFieldProps> ((props, ref) => {\n  const {\n    castMembers,\n    setCastMembers,\n    disabled,\n    error\n  } = props;\n  const autocompleteHttp = useHttpHandled();\n  const {addItem, removeItem} = useCollectionManager(castMembers, setCastMembers);\n  const autocompleteRef = React.useRef() as React.MutableRefObject<AsyncAutoCompleteComponent>\n  \n  const fetchOptions = React.useCallback((searchText) => {\n    return autocompleteHttp( \n      castMemberHttp.list({\n        queryParams: {\n          search: searchText, all: \"\"\n        }\n      })\n    ).then(data => data.data);\n  }, [autocompleteHttp]);\n\n  React.useImperativeHandle(ref, () => ({\n    clear: () => autocompleteRef.current.clear()\n  }));\n  \n  return (\n    <>\n      <AsyncAutocomplete\n        ref={autocompleteRef}\n        fetchOptions={fetchOptions}\n        TextFieldProps={{\n          label: \"Elenco\",\n          error: error !== undefined\n        }}\n        AutoCompleteProps={{\n          // autoSelect: true,\n          clearOnEscape: true,\n          freeSolo: true,\n          getOptionSelected: (option, value) => option.id === value.id,\n          getOptionLabel: option => option.name,\n          onChange: (event, value) => addItem(value),\n          disabled,\n        }}\n      />\n      <FormControl\n        margin={\"normal\"}\n        fullWidth\n        error={error !== undefined}\n        disabled={disabled === true}\n        {...props.FormControlProps}\n      >\n        <GridSelected>\n          {\n            castMembers.map((castMember, key) => (\n              <GridSelectedItem \n                key={key} \n                onDelete={() => {\n                  removeItem(castMember)\n                }} \n                xs={6}\n              >\n                <Typography noWrap={true}>\n                  {castMember.name}\n                </Typography>\n              </GridSelectedItem>\n            ))\n          }\n        \n        </GridSelected>\n        {\n          error && <FormHelperText>{error.message}</FormHelperText>\n        }\n      </FormControl>\n    </>\n  );\n});\n\nexport default CastMemberField;","import { createActions, createReducer } from \"reduxsauce\";\nimport update from 'immutability-helper';\nimport * as Typings from \"./types\";\n\nexport const {Types, Creators} = createActions<{\n  ADD_UPLOAD: string,\n  REMOVE_UPLOAD: string,\n  UPDATE_PROGRESS: string,\n  SET_UPLOAD_ERROR: string,\n}, {\n  addUpload(payload: Typings.AddUploadAction['payload']): Typings.AddUploadAction,\n  removeUpload(payload: Typings.RemoveUploadAction['payload']): Typings.RemoveUploadAction,\n  updateProgress(payload: Typings.UpdateProgressAction['payload']): Typings.UpdateProgressAction,\n  setUploadError(payload: Typings.SetUploadErrorAction['payload']): Typings.SetUploadErrorAction,\n \n}>({\n  addUpload: ['payload'],\n  removeUpload: ['payload'],\n  updateProgress: ['payload'],\n  setUploadError: ['payload'],\n})\n\nexport const INITIAL_STATE : Typings.UploadState = {\n  uploads: []\n};\n\nconst reducer = createReducer<Typings.UploadState, Typings.Actions>(INITIAL_STATE, {\n  [Types.ADD_UPLOAD]: addUpload as any,\n  [Types.REMOVE_UPLOAD]: removeUpload as any,\n  [Types.UPDATE_PROGRESS]: updateProgress as any,\n  [Types.SET_UPLOAD_ERROR]: setUploadError as any,\n});\nexport default reducer;\n\nfunction addUpload(state = INITIAL_STATE, action: Typings.AddUploadAction){\n  if(!action.payload.files.length){\n      return state;\n  }\n  const index = findIndexUpload(state, action.payload.video.id);\n  if(index!==-1 && state.uploads[index].progress < 1){\n    return state;\n  }\n  const uploads = index === -1 \n                ? state.uploads\n                : update(state.uploads, {\n                  $splice: [[index, 1]]\n                });              \n  return {\n    uploads: [\n      ...uploads,\n      {\n        video: action.payload.video,\n        progress: 0,\n        files: action.payload.files.map(file => ({\n          fileField: file.fileField,\n          fileName: file.file.name,\n          progress: 0\n        }))\n      }\n    ]\n  }\n}\n\nfunction removeUpload(state = INITIAL_STATE, action: Typings.RemoveUploadAction): Typings.UploadState{\n  const uploads =  state.uploads.filter(upload => upload.video.id !== action.payload.id); //não é muito perfromático, mas funciona\n  if(uploads.length === state.uploads.length){\n    return state;\n  }\n\n  return {\n    uploads\n  }\n} \n\n\nfunction updateProgress(state = INITIAL_STATE, action: Typings.UpdateProgressAction): Typings.UploadState{\n  const videoId = action.payload.video.id;\n  const fileField = action.payload.fileField;\n  const {indexUpload, indexFile} = findIndexUploadAndFile(state, videoId, fileField);\n  \n  if(typeof indexUpload === \"undefined\"){\n    return state;\n  }\n\n  const upload = state.uploads[indexUpload];\n  const file = upload.files[indexFile];\n\n  if(file.progress === action.payload.progress){\n    return state;\n  }\n\n  const uploads = update(state.uploads, {\n    [indexUpload]: {\n      $apply(upload){\n        const files = update(upload.files, {\n          [indexFile]: {\n            $set : {...file, progress: action.payload.progress}\n          }\n        })\n        const progress = calculateGlobalProgress(files);\n        return {...upload, progress, files}\n      }  \n    }\n  }); \n\n  return {uploads};\n} \n\nfunction setUploadError(state = INITIAL_STATE, action: Typings.SetUploadErrorAction): Typings.UploadState{\n  const videoId = action.payload.video.id;\n  const fileField = action.payload.fileField;\n  const {indexUpload, indexFile} = findIndexUploadAndFile(state, videoId, fileField);\n  \n  if(typeof indexUpload === \"undefined\"){\n    return state;\n  }\n\n  const upload = state.uploads[indexUpload];\n  const file = upload.files[indexFile];\n\n  const uploads = update(state.uploads, {\n    [indexUpload]: {\n      files : {\n        [indexFile]: {\n          $set: {...file, error: action.payload.error, progress: 1} //progress = 1 é śo uma convenção caso dê erro.\n        }\n      }\n    }\n  }); \n\n  return {uploads};\n}  \n\nfunction findIndexUploadAndFile(state: Typings.UploadState, videoId, fileField): {indexUpload?, indexFile?}{\n  const indexUpload = findIndexUpload(state, videoId);\n  if(indexUpload === -1){\n    return {};\n  }\n  const upload = state.uploads[indexUpload];\n  const indexFile = findIndexFile(upload.files, fileField);\n  return indexFile === -1 ? {} : {indexUpload, indexFile};\n}\n\nfunction calculateGlobalProgress(files: Array<{progress}>){\n  const countFiles = files.length;\n  if(!countFiles){\n    return 0;\n  }\n\n  const sumProgress =  files.reduce((sum, file) => sum + file.progress, 0);\n  return sumProgress/countFiles;\n}\n\nfunction findIndexUpload(state: Typings.UploadState, id: string){\n  return state.uploads.findIndex((upload) => upload.video.id === id)\n}\n\nfunction findIndexFile(files: Array<{fileField}>, fileField: string){\n  return files.findIndex((file) => file.fileField === fileField);\n}","import { FileUpload, Upload } from \"./types\";\n\nexport function countInProgress(uploads: Upload[]){\n  return uploads.filter(upload => !isFinished(upload)).length\n}\n\nexport function isFinished(obj: Upload | FileUpload){\n  return obj.progress===1 || hasError(obj);\n}\n\nexport function hasError(obj: Upload | FileUpload): boolean{\n  if(isUploadType(obj)){\n    const upload = obj as Upload;\n    return upload.files.some(file => file.error);\n  }else {\n    const file = obj as FileUpload;\n    return file.error !== undefined;\n  }\n}\n\nexport function isUploadType(obj: Upload | FileUpload ){\n  return 'video' in obj;\n}","// @flow \nimport { Fade, IconButton, ListItemSecondaryAction, makeStyles, Theme } from '@material-ui/core';\nimport * as React from 'react';\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { Upload } from '../../store/upload/types';\nimport { useDispatch } from 'react-redux';\nimport { Creators } from '../../store/upload';\nimport { hasError, isFinished } from '../../store/upload/getters';\nimport { useDebounce } from 'use-debounce/lib';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  successIcon: {\n    color: theme.palette.success.main\n  },\n  errorIcon: {\n    color: theme.palette.error.main\n  },\n  deleteIcon: {\n    color: theme.palette.primary.main\n  }\n}));\n\ninterface UploadActionProps {\n  upload: Upload;\n  hover: boolean;\n};\nconst UploadAction = (props: UploadActionProps) => {\n  const {upload, hover} = props;\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const error = hasError(upload);\n  const [show, setShow] = React.useState(false);\n  const [debouncedShow] = useDebounce(show, 2500);\n\n  React.useEffect(()=> {\n    setShow(isFinished(upload));\n  }, [upload]);\n  return (\n    debouncedShow \n    ? (<Fade in={show} timeout={{enter: 1000}}>\n        <ListItemSecondaryAction>\n          <span hidden={hover}>\n            {\n              upload.progress === 1 && ! error && (\n                <IconButton className={classes.successIcon} edge={\"end\"}>\n                  <CheckCircleIcon/>\n                </IconButton>\n              )\n            }\n            {\n              error && (\n                <IconButton className={classes.errorIcon} edge={\"end\"}>\n                <ErrorIcon/>\n                </IconButton>\n              )\n            }\n          </span>\n          <span hidden={!hover}>\n            <IconButton \n              color={'primary'}\n              edge={\"end\"}\n              onClick={() => dispatch(Creators.removeUpload({id: upload.video.id}))}\n            >\n              <DeleteIcon/>\n            </IconButton>\n          </span>\n        </ListItemSecondaryAction>\n      </Fade>)\n    : null\n  );\n};\n\nexport default UploadAction;","// @flow \nimport { CircularProgress, Fade, makeStyles, Theme } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\nimport * as React from 'react';\nimport { hasError } from '../store/upload/getters';\nimport { FileUpload, Upload } from '../store/upload/types';\n\nconst useStyles = makeStyles((theme: Theme)=> ({\n  progressContainer: {\n    position: 'relative'\n  },\n  progress: {\n    position: 'absolute',\n    left: 0\n  },\n  progressBackground: {\n    color: grey[\"300\"]\n  }\n}));\n\ninterface UploadProgressProps {\n  size: number;\n  uploadOrFile: Upload | FileUpload;\n};\nconst UploadProgress = (props: UploadProgressProps) => {\n  const {size, uploadOrFile} = props;\n  const classes = useStyles();\n  const error = hasError(uploadOrFile);\n  return (\n    <Fade in={uploadOrFile.progress < 1} timeout={{enter: 100, exit: 2000}}>\n      <div className={classes.progressContainer}>\n        <CircularProgress\n          variant=\"static\"\n          value={100}\n          className={classes.progressBackground}\n          size={size}\n        />\n        <CircularProgress\n          variant=\"static\"\n          className={classes.progress}\n          value={error ? 0: uploadOrFile.progress * 100}\n          size={size}\n        />\n        \n      </div>\n    </Fade>\n  );\n};\n\nexport default UploadProgress;","// @flow \nimport { Divider, ListItem, ListItemIcon, ListItemText, makeStyles, Theme, Tooltip, Typography } from '@material-ui/core';\nimport * as React from 'react';\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport { Upload } from '../../store/upload/types';\nimport UploadAction from './UploadAction';\nimport UploadProgress from '../UploadProgress';\nimport { hasError } from '../../store/upload/getters';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  listItem: {\n    paddingTop: '7px',\n    paddingBottom: '7px',\n    height: '53px'\n  },\n  listItemText: {\n    marginLeft: '6px',\n    marginRight: '24px',\n    color: theme.palette.text.secondary\n  },\n  movieIcon: {\n    color: theme.palette.error.main,\n    minWidth: '40px'\n  },\n}));\n\ninterface UploadItemProps {\n  upload: Upload\n};\nconst UploadItem = (props: UploadItemProps) => {\n  const {upload} = props\n  const classes = useStyles();\n  const error = hasError(upload);\n  const [itemHover, setItemHover] = React.useState(false);\n  return (\n    <>\n      <Tooltip\n        disableFocusListener\n        disableTouchListener\n        title={\n          error ? \"Não foi possível fazer upload, clique para mais detalhes\" : \"\"\n        }\n        placement={\"left\"}\n      >\n        <ListItem\n          className={classes.listItem}\n          button\n          onMouseOver={() => setItemHover(true)}\n          onMouseLeave={() => setItemHover(false)}\n        >\n          <ListItemIcon className={classes.movieIcon}>\n            <MovieIcon/>\n          </ListItemIcon>\n          <ListItemText\n            className={classes.listItemText}\n            primary={\n              <Typography noWrap={true} variant={\"subtitle2\"} color={\"inherit\"}>\n                {upload.video.title}\n              </Typography>\n            }\n          />\n          <UploadProgress size={30} uploadOrFile={upload}/>\n          <UploadAction upload={upload} hover={itemHover}/>\n        </ListItem>\n      </Tooltip>\n      <Divider component=\"li\"/>\n    </>\n  );\n};\n\nexport default UploadItem;","// @flow \nimport { Card, CardActions, Collapse, IconButton, List, makeStyles, Theme, Typography } from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport CloseIcon from '@material-ui/icons/Close';\nimport * as React from 'react';\nimport { useSnackbar } from 'notistack';\nimport classnames from \"classnames\";\nimport UploadItem from './UploadItem';\nimport { useSelector } from 'react-redux';\nimport { Upload, UploadModule } from '../../store/upload/types';\nimport { countInProgress } from '../../store/upload/getters';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  card: {\n    width: 450,\n  },\n  cardActionRoot: {\n    padding: '8px 8px 8px 16px',\n    backgroundColor: theme.palette.primary.main,\n  },\n  title: {\n    fontWeight: 'bold',\n    color: theme.palette.primary.contrastText,\n  },\n  icons: {\n    marginLeft: 'auto !important',\n    color: theme.palette.primary.contrastText,\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest\n    })  \n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest\n    })    \n  },\n  list: {\n    paddingTop: 0,\n    paddingBottom: 0\n  }\n}));\n\ninterface SnackbarUploadProps {\n  id: string | number;\n};\nconst SnackbarUpload = React.forwardRef<any, SnackbarUploadProps>((props, ref) => {\n  const {id} = props;\n  const classes = useStyles();\n  const {closeSnackbar} = useSnackbar();\n  const [expanded, setExpanded] = React.useState(true);\n  const uploads = useSelector<UploadModule, Upload[]>((state) => state.upload.uploads);\n  \n  const totalInProgress = countInProgress(uploads);\n\n  return (\n    <Card ref={ref} className={classes.card}>\n      <CardActions classes={{root: classes.cardActionRoot}}>\n        <Typography variant=\"subtitle2\" className={classes.title}>\n          Fazendo uplaod de {totalInProgress} vídeo(s)\n        </Typography>\n        <div className={classes.icons}>\n          <IconButton\n            color={\"inherit\"}\n            onClick={() => setExpanded(!expanded)}\n            className={classnames(classes.expand,{[ classes.expandOpen]: !expanded })}\n          >\n            <ExpandMoreIcon/>\n          </IconButton>\n          <IconButton\n            color={\"inherit\"}\n            onClick={()=> closeSnackbar(id)}\n          >\n            <CloseIcon/>\n          </IconButton>\n        </div>\n      </CardActions>\n      <Collapse in={expanded}>\n        <List className={classes.list}>\n          {uploads.map( (upload, key) => (\n            <UploadItem key={key} upload={upload}/>\n          ))}\n        </List>\n      </Collapse>\n    </Card>\n  );\n});\n\nexport default SnackbarUpload;","import {  Card, CardContent, Checkbox, FormControlLabel, Grid, makeStyles, TextField, Theme, Typography, useMediaQuery, useTheme } from '@material-ui/core';\nimport * as React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers'\nimport * as yup from '../../../util/vendor/yup';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { ParamTypes } from '../PageForm';\nimport { useSnackbar } from 'notistack';\nimport { DefaultForm } from '../../../components/DefaultForm';\nimport { Video, VideoFileFieldsMap } from '../../../util/models';\nimport videoHttp from '../../../util/http/video-http';\nimport SubmitActions from '../../../components/SubmitActions';\nimport { RatingField } from './RatingField';\nimport UploadField from './UploadField';\nimport GenreField, {GenreFieldComponent} from './GenreField';\nimport CategoryField, {CategoryFieldComponent} from './CategoryField';\nimport CastMemberField, { CastMemberFieldComponent } from './CastMemberField';\nimport { omit, zipObject } from 'lodash';\nimport { InputFileComponent } from '../../../components/InputFile';\nimport useSnackbarFormError from '../../../hooks/useSnackbarFormError';\nimport { useDispatch } from \"react-redux\";\nimport { FileInfo } from '../../../store/upload/types';\nimport { Creators } from '../../../store/upload';\nimport SnackbarUpload from '../../../components/SnackbarUpload';\nimport LoadingContext from '../../../components/Loading/LoadingContext';\n\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  cardUpload: {\n    borderRadius: \"4px\",\n    backgroundColor: \"#f5f5f5\",\n    margin: theme.spacing(2,0)\n  },\n  cardOpened: {\n    borderRadius: \"4px\",\n    backgroundColor: \"#f5f5f5\",\n  },\n  cardContentOpened: {\n   paddingBottom: theme.spacing(2) + 'px !important'\n  }\n}));\n\nconst validationSchema = yup.object().shape({\n  title: yup.string()\n          .label('Título')\n          .required()\n          .max(255),\n  description: yup.string()\n          .label('Sinopse')\n          .required(),\n  year_launched: yup.number()\n          .label('Ano de Lançamento')\n          .required()\n          .min(1),\n  duration: yup.number()\n          .label('Duração')\n          .required().min(1),\n  cast_members: yup.array()\n          .label(\"Elenco\")\n          .required(),\n  genres: yup.array()\n          .label(\"Gêneros\")\n          .required()\n          .test({\n            message: 'Cada gênero escolhido precisa ter pelo menos uma categoria selecionada',\n            test(value) {\n              return (value as any[]).every(\n                v => v.categories.filter(\n                  cat => this.parent.categories.map(c => c.id).includes(cat.id)\n                ).length !==0\n              );\n            }  \n            \n          }),\n  categories: yup.array()\n          .label(\"Categorias\")\n          .required(),\n  rating: yup.string()\n          .label('Classificação')\n          .required(),\n});\n\nconst fileFields = Object.keys(VideoFileFieldsMap);\n\nexport const Form = () => {\n  const {\n    register,\n    handleSubmit,\n    getValues,\n    setValue,\n    errors,\n    reset,\n    watch,\n    trigger,\n    formState\n  } = useForm({\n    resolver: yupResolver(validationSchema),\n    defaultValues: {\n      rating: null,\n      genres: [],\n      categories: [],\n      cast_members: [],\n      opened: false,\n    }\n  });\n\n  useSnackbarFormError(formState.submitCount, errors);\n  \n  const classes = useStyles();\n  const {enqueueSnackbar} = useSnackbar();\n  const history = useHistory();\n  const {id} = useParams<ParamTypes>();\n  const [video, setVideo] = React.useState<Video | null>(null)\n  const loading = React.useContext(LoadingContext);\n  const theme = useTheme();\n  const isGreaterMd = useMediaQuery(theme.breakpoints.up('md'));\n  const castMemberRef = React.useRef() as React.MutableRefObject<CastMemberFieldComponent>;\n  const genreRef = React.useRef() as React.MutableRefObject<GenreFieldComponent>;\n  const categoryRef = React.useRef() as React.MutableRefObject<CategoryFieldComponent>;\n  const uploadsRef = React.useRef(\n    zipObject(fileFields, fileFields.map(()=> React.createRef()))\n  ) as React.MutableRefObject<{ [key: string]: React.MutableRefObject<InputFileComponent>}>;\n\n const dispatch = useDispatch();\n\n const resetForm = React.useCallback((data) => {\n    Object.keys(uploadsRef.current).forEach(\n      field => uploadsRef.current[field].current.clear()\n    );\n    castMemberRef.current.clear();\n    genreRef.current.clear();\n    categoryRef.current.clear();\n    reset(data);\n}, [castMemberRef,categoryRef,genreRef, reset, uploadsRef  ]);\n\n React.useEffect(() => {\n    [\n      'rating',\n      'opened',\n      'genres',\n      'categories',\n      'cast_members',\n      ...fileFields\n    ].forEach(name => register({name}));\n   }, [register])\n\n  React.useEffect(() => {\n    if (!id){\n      return;\n    }\n    let isSubscribed = true;\n    ( async () => {\n      try {\n        const {data} = await videoHttp.get(id);\n        if(isSubscribed){\n          setVideo(data.data);\n          resetForm(data.data);\n        }\n        \n      } catch (error) {\n        console.log(error);\n        enqueueSnackbar(\n          'Não foi possível carregar as informações',\n          {variant: \"error\"}\n        );\n      }\n\n    })();\n    return () => {\n      isSubscribed = false;\n    }\n  \n  }, [id, resetForm, enqueueSnackbar]);\n\n  async function onSubmit(formData, event){\n    const sendData = omit(\n      formData, [...fileFields, 'cast_members', 'genres', 'categories']\n      );\n    sendData['cast_members_id'] = formData['cast_members'].map(cast_member => cast_member.id);\n    sendData['categories_id'] = formData['categories'].map(category => category.id);\n    sendData['genres_id'] = formData['genres'].map(genre => genre.id);\n    try {\n      const http = !video\n      ? videoHttp.create(sendData)\n      : videoHttp.update(video.id, sendData);\n      const {data} = await http;\n      enqueueSnackbar(\n        'Vídeo salvo com sucesso.',\n        {variant: \"success\"}\n      );\n      uploadFiles(data.data);\n      id && resetForm(data.data);\n      setTimeout(() => {\n        event\n            ? ( \n              id \n                  ? history.replace(`/videos/${data.data.id}/edit`)\n                  : history.push(`/videos/${data.data.id}/edit`)\n            )\n            : history.push('/videos')\n      }); \n    } catch (error) {\n      console.error(error);\n          enqueueSnackbar(\n            'Não foi possível salvar o vídeo.',\n            {variant: \"error\"}\n          );\n    }\n   \n  } \n\n  function uploadFiles(video){\n    const files: FileInfo[] = fileFields\n          .filter(fileField => getValues()[fileField])\n          .map(fileField => ({fileField, file: getValues()[fileField] as File}))\n\n    if(!files.length){\n      return;\n    }\n    dispatch(Creators.addUpload({video, files}));\n    enqueueSnackbar('', {\n      key: 'snackbar-upload',\n      persist: true,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'right'\n      },\n      content: (key) => {\n        const id = key as any;\n        return <SnackbarUpload id={id}/>\n      }\n    });\n  }\n\n  return (\n    <DefaultForm GridItemProps={{xs: 12}} onSubmit={handleSubmit(onSubmit)}>\n      <Grid container spacing={5}>\n        <Grid item xs={12} md={6}>\n          <TextField\n          name=\"title\"\n          label=\"Título\"\n          variant={\"outlined\"}\n          fullWidth\n          inputRef={register}\n          disabled={loading}\n          InputLabelProps={{shrink: true}}\n          error={errors.title !== undefined}\n          helperText={errors.title?.message} \n          />\n\n          <TextField\n          name=\"description\"\n          label=\"Sinopse\"\n          multiline\n          rows=\"4\"\n          margin='normal'\n          variant={\"outlined\"}\n          fullWidth\n          inputRef={register}\n          disabled={loading}\n          InputLabelProps={{shrink: true}}\n          error={errors.description !== undefined}\n          helperText={errors.description?.message} \n          />\n          <Grid container spacing={1}>\n            <Grid item xs={6}>\n              <TextField\n                name=\"year_launched\"\n                label=\"Ano de lançamento\"\n                type=\"number\"\n                margin='normal'\n                variant={\"outlined\"}\n                fullWidth\n                inputRef={register}\n                disabled={loading}\n                InputLabelProps={{shrink: true}}\n                error={errors.year_launched !== undefined}\n                helperText={errors.year_launched?.message} \n              />  \n            </Grid>\n            <Grid item xs={6}>\n              <TextField\n                name=\"duration\"\n                label=\"Duração\"\n                type=\"number\"\n                margin='normal'\n                variant={\"outlined\"}\n                fullWidth\n                inputRef={register}\n                disabled={loading}\n                InputLabelProps={{shrink: true}}\n                error={errors.duration !== undefined}\n                helperText={errors.duration?.message} \n              />  \n            </Grid>\n          </Grid>\n          <CastMemberField\n            ref={castMemberRef}\n            castMembers={watch('cast_members')}\n            setCastMembers={(value) => setValue('cast_members', value, {shouldValidate: true})}\n            error={errors.cast_members}\n            disabled={loading}\n          />\n          <Grid container spacing={2}>\n            <Grid item xs={12} md={6}>\n              <GenreField\n                ref={genreRef}\n                genres={watch('genres')}\n                setGenres={(value) => setValue('genres', value, {shouldValidate: true } )}\n                categories={watch('categories')}\n                setCategories={(value) => setValue('categories', value, {shouldValidate: true } )}\n                error={errors.genres}\n                disabled={loading}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <CategoryField\n                ref={categoryRef}\n                categories={watch('categories')}\n                setCategories={(value) => setValue('categories', value, {shouldValidate: true } )}\n                genres={watch('genres')}\n                error={errors.categories}\n                disabled={loading}\n              />\n            </Grid>\n          </Grid>\n\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <RatingField\n            value={watch('rating')}\n            setValue={(value) => setValue('rating', value)}\n            error={errors.rating}\n            disabled={loading}\n            formControlProps= {{\n              margin: isGreaterMd ? 'none' : 'normal'\n            }}\n          />\n          <br/>\n          <Card className={classes.cardUpload}>\n            <CardContent>\n              <Typography color=\"primary\" variant=\"h6\">\n                Imagens\n              </Typography>\n              <UploadField\n                ref={uploadsRef.current['thumb_file']}\n                accept={'image/*'}\n                label={'Thumb'}\n                setValue={(value) => setValue('thumb_file', value)}\n              />\n              <UploadField\n              ref={uploadsRef.current['banner_file']}\n                accept={'image/*'}\n                label={'Banner'}\n                setValue={(value) => setValue('banner_file', value)}\n              />\n            </CardContent>\n          </Card>\n          <Card className={classes.cardUpload}>\n            <CardContent>\n              <Typography color=\"primary\" variant=\"h6\">\n                Videos\n              </Typography>\n              <UploadField\n                ref={uploadsRef.current['trailer_file']}\n                accept={'video/mp4'}\n                label={'Trailer'}\n                setValue={(value) => setValue('trailer_file', value)}\n              />\n              <UploadField\n                ref={uploadsRef.current['video_file']}\n                accept={'video/mp4'}\n                label={'Principal'}\n                setValue={(value) => setValue('video_file', value)}\n              />\n            </CardContent>\n          </Card>\n         \n          <br/>\n          <Card className={classes.cardOpened}>\n            <CardContent className={classes.cardContentOpened}>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    name=\"opened\"\n                    color={'primary'}\n                    onChange={\n                      () => setValue('opened', !getValues()['opened'])\n                    }\n                    checked={watch('opened')}\n                    disabled={loading}\n                  />\n                }\n                label={\n                  <Typography color=\"primary\" variant={\"subtitle2\"}>\n                    Quero que este conteúdo apareça na sessão de lançamentos\n                  </Typography>\n                }\n                labelPlacement=\"end\"\n              />\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n      <SubmitActions \n            disabledButtons={loading}\n            handleSave={() => trigger().then( isValid => {\n                              isValid && onSubmit(getValues(), null)\n                            })\n                        }\n          />\n    </DefaultForm>\n  )\n}\n\nexport default Form;","import * as React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport Form from './Form';\n\nexport interface ParamTypes{\n  id: string;\n}\n\nconst PageForm = () => {\n  const {id} = useParams<ParamTypes>();\n  return (\n    <Page title={!id ? 'Criar Vídeo': 'Editar Vídeo'}>\n      <Form/>\n    </Page>\n  );\n};\n\nexport default PageForm;","// @flow \nimport { Divider, Fade, IconButton, makeStyles, Theme } from '@material-ui/core';\nimport * as React from 'react';\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { Link } from 'react-router-dom';\nimport { FileUpload, Upload } from '../../store/upload/types';\nimport { useDispatch } from 'react-redux';\nimport { Creators } from '../../store/upload';\nimport { hasError, isFinished, isUploadType } from '../../store/upload/getters';\nimport { useDebounce } from 'use-debounce/lib';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  successIcon: {\n    color: theme.palette.success.main,\n    marginLeft: theme.spacing(1)\n  },\n  errorIcon: {\n    color: theme.palette.error.main,\n    marginLeft: theme.spacing(1)\n  },\n  divider: {\n    height: '20px',\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1)\n  }\n  \n}));\n\ninterface UploadActionProps {\n  uploadOrFile: Upload | FileUpload\n};\nconst UploadAction: React.FC<UploadActionProps> = (props) => {\n  const {uploadOrFile} = props;\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const error = hasError(uploadOrFile);\n  const videoId = (uploadOrFile as any)?.video?.id;\n  const [show, setShow] = React.useState(false);\n  const [debouncedShow] = useDebounce(show, 2500);\n  const activeActions = isUploadType(uploadOrFile);\n\n  React.useEffect(()=> {\n    setShow(isFinished(uploadOrFile));\n  }, [uploadOrFile]);\n  \n  return (\n    debouncedShow \n    ? (<Fade in={true} timeout={{enter: 1000}}>\n          <>\n            { \n              uploadOrFile.progress === 1 && !error && (<CheckCircleIcon className={classes.successIcon}/>)\n            }\n            {error && <ErrorIcon className={classes.errorIcon}/>}\n            {\n              activeActions && (\n                <>\n                  <Divider className={classes.divider} orientation={'vertical'}/>\n                  <IconButton\n                    onClick={()=> dispatch(Creators.removeUpload({id: videoId}))}\n                  >\n                    <DeleteIcon color={'primary'}/>\n                  </IconButton>\n                  <IconButton\n                    component={Link}\n                    to={`/videos/${videoId}/edit`}\n                  >\n                    <EditIcon color={'primary'}/>\n                  </IconButton>\n                </>\n              )\n            }\n          </>\n          \n      </Fade>)\n    : null\n  );\n};\n\nexport default UploadAction;","// @flow \nimport { Grid, ListItem, makeStyles, Theme, Typography } from '@material-ui/core';\nimport * as React from 'react';\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport ImageIcon from \"@material-ui/icons/Image\";\nimport UploadProgress from '../../components/UploadProgress';\nimport UploadAction from './UploadAction';\nimport { FileUpload, Upload } from '../../store/upload/types';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  gridTitle: {\n    display: 'flex',\n    color: '#999999'\n  },\n  icon: {\n    color: theme.palette.error.main,\n    minWidth: '40px'\n  },\n  \n}));\n\ninterface UploadItemProps{\n  uploadOrFile: Upload | FileUpload\n};\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n  const {uploadOrFile} = props;\n  const classes = useStyles();\n\n  function makeIcon(){\n    if(true){\n      return <MovieIcon className={classes.icon}/>\n    }\n    return <ImageIcon className={classes.icon}/>\n  }\n\n  return (\n    <ListItem>\n      <Grid\n        item\n        className={classes.gridTitle}\n        xs={12}\n        md={9}\n      >\n        {makeIcon()}\n        <Typography color={\"inherit\"}>\n          {props.children}\n        </Typography>\n      </Grid>\n      <Grid item xs={12} md={3}>\n        <Grid\n          container\n          direction={\"row\"}\n          alignItems={'center'}\n          justify={\"flex-end\"}\n        >\n          <UploadProgress size={48} uploadOrFile={uploadOrFile}/>\n          <UploadAction uploadOrFile={uploadOrFile}/>\n        </Grid>\n      </Grid>\n    </ListItem>\n  );\n};\n\nexport default UploadItem;","// @flow \nimport { Card, CardContent, Divider, ExpansionPanel, ExpansionPanelDetails, ExpansionPanelSummary, Grid, List, makeStyles, Theme, Typography } from '@material-ui/core';\nimport * as React from 'react';\nimport { Page } from '../../components/Page';\nimport UploadItem from './UploadItem';\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { useSelector } from 'react-redux';\nimport { Upload, UploadModule } from '../../store/upload/types';\nimport { VideoFileFieldsMap } from '../../util/models';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  panelSummary: {\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.primary.contrastText\n  },\n  expandedIcon: {\n    color: theme.palette.primary.contrastText\n  }\n}));\n\nconst Uploads = () => {\n  const classes = useStyles();\n  const uploads = useSelector<UploadModule, Upload[]>((state) => state.upload.uploads);\n\n  return (\n    <Page title={\"Uploads\"}>\n      {\n        uploads.map((upload, key) => \n          (\n            <Card elevation={5} key={key}>\n              <CardContent>\n                <UploadItem uploadOrFile={upload}>\n                  {upload.video.title}\n                </UploadItem>\n                <ExpansionPanel style={{margin: 0}}>\n                  <ExpansionPanelSummary\n                    className={classes.panelSummary}\n                    expandIcon={<ExpandMoreIcon className={classes.expandedIcon}/>}\n                  >\n                    <Typography>Ver detalhes</Typography>\n                  </ExpansionPanelSummary>\n                  <ExpansionPanelDetails style={{padding: '0px'}}>\n                    <Grid item xs={12}>\n                      <List dense={true} style={{padding: '0px'}}>\n                        {\n                          upload.files.map((file, key) => (\n                            <React.Fragment key={key}>\n                              <Divider/>\n                              <UploadItem uploadOrFile={file}>\n                                {`${VideoFileFieldsMap[file.fileField]} - ${file.filename}`}\n                              </UploadItem>\n                            </React.Fragment>\n                          ))  \n                        }\n                      </List>\n                    </Grid>\n                  </ExpansionPanelDetails>\n                </ExpansionPanel>\n              </CardContent>\n            </Card>\n          )\n        )\n      }\n    </Page>\n\n\n  );\n};\n\nexport default Uploads;","import { RouteProps } from \"react-router-dom\";\nimport CastMemberList from \"../pages/cast-member/PageList\";\nimport CastMemberForm from \"../pages/cast-member/PageForm\";\nimport CategoryList from \"../pages/category/PageList\";\nimport CategoryForm from \"../pages/category/PageForm\";\nimport Dashboard from \"../pages/Dashboard\";\nimport GenreList from \"../pages/genre/PageList\";\nimport GenreForm from \"../pages/genre/PageForm\";\nimport VideoList from \"../pages/video/PageList\";\nimport VideoForm from \"../pages/video/PageForm\";\nimport UploadPage from \"../pages/uploads\";\n\nexport interface MyRouteProps extends RouteProps{\n  name: string;\n  label: string;\n}\n\nconst routes : MyRouteProps[] = [\n  {\n    name: 'dashboard',\n    label: 'Dashboard',\n    path: '/',\n    component: Dashboard,\n    exact: true\n  },\n  {\n    name: 'categories.list',\n    label: 'Listar Categorias',\n    path: '/categories',\n    component: CategoryList,\n    exact: true\n  },\n  {\n    name: 'categories.create',\n    label: 'Criar Categoria',\n    path: '/categories/create',\n    component: CategoryForm,\n    exact: true\n  },\n  {\n    name: 'categories.edit',\n    label: 'Editar Categoria',\n    path: '/categories/:id/edit',\n    component: CategoryForm,\n    exact: true\n  },\n  {\n    name: 'cast_members.list',\n    label: 'Listar membros de elenco',\n    path: '/cast-members',\n    component: CastMemberList,\n    exact: true\n  },\n  {\n    name: 'cast_members.create',\n    label: 'Criar membro',\n    path: '/cast-members/create',\n    component: CastMemberForm,\n    exact: true\n  },\n  {\n    name: 'cast_members.edit',\n    label: 'Editar membro',\n    path: '/cast-members/:id/edit',\n    component: CastMemberForm,\n    exact: true\n  },\n  {\n    name: 'genres.list',\n    label: 'Listar gêneros',\n    path: '/genres',\n    component: GenreList,\n    exact: true\n  },\n  {\n    name: 'genres.create',\n    label: 'Criar gênero',\n    path: '/genres/create',\n    component: GenreForm,\n    exact: true\n  },\n  {\n    name: 'genres.edit',\n    label: 'Editar gênero',\n    path: '/genres/:id/edit',\n    component: GenreForm,\n    exact: true\n  },\n  {\n    name: 'videos.list',\n    label: 'Listar Vídeos',\n    path: '/videos',\n    component: VideoList,\n    exact: true\n  },\n  {\n    name: 'videos.create',\n    label: 'Criar Vídeos',\n    path: '/videos/create',\n    component: VideoForm,\n    exact: true\n  },\n  {\n    name: 'videos.edit',\n    label: 'Editar Vídeos',\n    path: '/videos/:id/edit',\n    component: VideoForm,\n    exact: true\n  },\n  {\n    name: 'uploads',\n    label: 'Uploads',\n    path: '/uploads',\n    component: UploadPage,\n    exact: true\n  },\n];\n\nexport default routes;","/* eslint-disable no-nested-ternary */\nimport React from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport Link, { LinkProps } from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport MuiBreadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { Route } from 'react-router';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Location } from \"history\";\nimport routes from '../routes';\nimport RouteParser from \"route-parser\";\nimport { Box, Container } from '@material-ui/core';\n\nconst breadcrumbNameMap: { [key: string]: string } = {\n \n};\nroutes.forEach( route => breadcrumbNameMap[route.path as string] = route.label);\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    linkRouter: {\n      color: theme.palette.secondary.main,\n      \"&:focus, &:active\": {\n        color: theme.palette.secondary.main\n      },\n      \"&:hover\": {\n        color: theme.palette.secondary.dark\n      }    \n    }\n  }),\n);\n\ninterface LinkRouterProps extends LinkProps {\n  to: string;\n  replace?: boolean;\n}\n\nconst LinkRouter = (props: LinkRouterProps) => <Link {...props} component={RouterLink as any} />;\n\nexport default function Breadcrumbs() {\n  const classes = useStyles();\n\n  function makeBreadcrumb(location: Location){\n    const pathnames = location.pathname.split('/').filter((x) => x);\n    pathnames.unshift('/');\n    return (\n      <MuiBreadcrumbs aria-label=\"breadcrumb\">\n        {pathnames.map((value, index) => {\n          const last = index === pathnames.length - 1;\n          const to = `${pathnames.slice(0, index + 1).join('/').replace('//', '/')}`;\n          const route = Object.keys(breadcrumbNameMap).find(path => new RouteParser(path).match(to));\n\n          if(route === undefined){\n            return false;\n          }\n          return last ? (\n            <Typography color=\"textPrimary\" key={to}>\n              {breadcrumbNameMap[route]}\n            </Typography>\n          ) : (\n            <LinkRouter color=\"inherit\" to={to} key={to} className={classes.linkRouter}>\n              {breadcrumbNameMap[route]}\n            </LinkRouter>\n          );\n        })}\n      </MuiBreadcrumbs>\n    );\n    \n  }\n \n  return (\n      <Container>\n        <Box paddingTop={2} paddingBottom={1}>\n          <Route>\n            {\n              ({location}: {location: Location}) => makeBreadcrumb(location)\n            }\n          </Route>\n        </Box>\n       \n      </Container>\n\n  );\n}","// @flow \nimport * as React from 'react';\nimport LoadingContext from './LoadingContext';\nimport { addGlobalRequestInterceptor, addGlobalResponseInterceptor, removeGlobalRequestInterceptor, removeGlobalResponseInterceptor } from '../../util/http';\n\nconst LoadingProvider = (props) => {\n  const [loading, setLoading] = React.useState<boolean>(false);\n  const [countRequest, setCountRequest] = React.useState(0);\n\n  React.useMemo(() => {\n    let isSubscribed = true;\n    const requestIds = addGlobalRequestInterceptor((config) => {\n        if(isSubscribed && !config.headers.hasOwnProperty('x-ignore-loading')){\n          setLoading(true);\n          setCountRequest((prevCountRequest) => prevCountRequest + 1);\n        }\n        return config;\n    });\n    const responseIds = addGlobalResponseInterceptor(\n      (response) => {\n        if(isSubscribed && !response.config.headers.hasOwnProperty('x-ignore-loading')){\n          decrementCountRequest();\n        }\n        return response;\n      },\n      (error) => {\n        if(isSubscribed && !error.config.headers.hasOwnProperty('x-ignore-loading')){\n          decrementCountRequest();\n        }\n        return Promise.reject(error);\n      }\n    );\n    return () => {\n      isSubscribed = false;\n      removeGlobalRequestInterceptor(requestIds); //não precisa remover pq o contexto é quase na raiz da aplicação\n      removeGlobalResponseInterceptor(responseIds); // mas é uma boa prática destruir quando o componente morre.\n    }\n  }, [true]);\n\n  React.useEffect(() => {\n    if(!countRequest){\n      setLoading(false);\n    }\n  }, [countRequest])\n\n  function decrementCountRequest(){\n    setCountRequest((prevCountRequest) => prevCountRequest - 1);\n  }\n\n  return (\n    <LoadingContext.Provider value={loading}>\n      {props.children}\n    </LoadingContext.Provider>\n  );\n};\n\n\nexport default LoadingProvider;","import { IconButton, Menu as MuiMenu, MenuItem } from '@material-ui/core';\nimport * as React from 'react';\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport routes, {MyRouteProps} from '../../routes';\nimport { Link } from 'react-router-dom';\n\nconst listRoutes = {\n  'dashboard': 'Dashboard',\n  'videos.list': 'Vídeos',\n  'categories.list': 'Categorias',\n  'cast_members.list': 'Membros de elenco',\n  'genres.list': 'Gêneros',\n  'uploads': 'Uploads'\n};\nconst menuRoutes = routes.filter(route => Object.keys(listRoutes).includes(route.name) );\n\nexport const Menu = () => {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const handleOpen = (event: any) => setAnchorEl(event.currentTarget);\n  const handleClose = () => setAnchorEl(null);\n  \n  return (\n    <React.Fragment>\n      <IconButton\n        edge='start'\n        color='inherit'\n        aria-label='open drawer'\n        aria-controls='menu-appbar'\n        aria-haspopup=\"true\"\n        onClick={handleOpen}   \n      >\n        <MenuIcon/>\n      </IconButton>\n      <MuiMenu\n        id=\"menu-appbar\"\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{vertical: 'bottom', horizontal: 'center'}}\n        transformOrigin={{vertical: 'top', horizontal: 'center'}}\n        getContentAnchorEl={null}\n      >\n        {\n          Object.keys(listRoutes).map(\n            (routeName, key) => {\n              const route = menuRoutes.find(route => route.name === routeName) as MyRouteProps\n              return (\n                <MenuItem key={key} component={Link} to={route.path as string} onClick={handleClose}>\n                  {listRoutes[routeName]}\n                </MenuItem>\n              )\n            }\n          )\n        }\n       \n      </MuiMenu>\n    </React.Fragment>\n  );\n};","import { AppBar, Button, makeStyles, Theme, Toolbar, Typography } from '@material-ui/core';\nimport * as React from 'react';\nimport logo from \"../../static/img/logo.png\";\nimport {Menu} from './Menu'\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  toolbar: {\n    backgroundColor: '#000'\n  },\n  title: {\n    flexGrow: 1,\n    textAlign: 'center',\n  }, \n  logo: {\n    width: 100,\n    [theme.breakpoints.up('sm')]: {\n      width: 170\n    }\n  }\n}));\n\nexport const NavBar: React.FC = () => {\n  const classes = useStyles();  \n  return (\n    <AppBar>\n      <Toolbar className={classes.toolbar}>\n        <Menu/>\n        <Typography className={classes.title}>\n          <img src={logo} alt=\"CodeFlix\" className={classes.logo}/>\n        </Typography>\n        <Button color=\"inherit\">Login</Button>\n      </Toolbar>\n    </AppBar>\n  );\n};","import * as React from 'react';\nimport { SnackbarProvider as NotistackProvider, SnackbarProviderProps} from 'notistack';\nimport { IconButton, makeStyles, Theme } from '@material-ui/core';\nimport { Close as CloseIcon } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n  return {\n    variantSuccess: {\n      backgroundColor: theme.palette.success.main\n    },\n    variantError: {\n      backgroundColor: theme.palette.error.main\n    },\n    variantInfo: {\n      backgroundColor: theme.palette.primary.main\n    }\n  }\n})\n\n\nexport const SnackBarProvider: React.FC<SnackbarProviderProps>= (props) => {\n  let snackbarProviderRef;\n  const classes = useStyles();\n  const defaultProps: SnackbarProviderProps = {\n    classes,\n    autoHideDuration: 3000,\n    maxSnack: 3,\n    anchorOrigin: {\n      horizontal: 'right',\n      vertical: 'top'\n    },\n    preventDuplicate: true,\n    children: [],\n    ref: (el) => snackbarProviderRef = el,\n    action: (key: string) => {\n      return (<IconButton\n        color=\"inherit\"\n        style={{fontSize: 20}}\n        onClick={() => {snackbarProviderRef.closeSnackbar(key)}}\n      >\n        <CloseIcon/>\n      </IconButton>\n    )}\n  };\n\n  const newProps = {...defaultProps, ...props};\n  \n  return (\n    <NotistackProvider {...newProps}>\n      {props.children}\n    </NotistackProvider>\n  );\n};","// @flow \nimport { Fade, LinearProgress, MuiThemeProvider, Theme } from '@material-ui/core';\nimport * as React from 'react';\nimport LoadingContext from './Loading/LoadingContext';\n\nfunction makeLocalTheme(theme: Theme): Theme{\n  return {\n    ...theme,\n    palette :{\n      ...theme.palette,\n      primary: theme.palette.error,\n      type: 'dark'\n    }\n  }\n}\ninterface SpinnerProps {\n  \n};\nconst Spinner = (props: SpinnerProps) => {\n  const loading = React.useContext(LoadingContext);\n  return (\n    <MuiThemeProvider theme={makeLocalTheme}>\n      <Fade in={loading}>\n        <LinearProgress\n          color={'primary'}\n          style={{\n            position: 'fixed',\n            width: '100%',\n            zIndex: 9999\n          }}\n        />\n      </Fade>\n    </MuiThemeProvider>\n  );\n};\n\nexport default Spinner;","import * as React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport routes from '.';\ntype Props = {\n  \n};\nconst AppRouter = () => {\n  return (\n    <Switch>\n      {\n        routes.map(\n          (route, key) => (\n            <Route\n              key={key}\n              path={route.path}\n              component={route.component}\n              exact={route.exact === true}\n\n            />\n          )\n        )\n      }\n    </Switch>\n  );\n};\n\nexport default AppRouter;","import { Box, CssBaseline, MuiThemeProvider } from '@material-ui/core';\nimport React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport './App.css';\nimport Breadcrumbs from './components/Breadcrumbs';\nimport LoadingProvider from './components/Loading/LoadingProvider';\nimport { NavBar } from './components/NavBar';\nimport { SnackBarProvider } from './components/SnackBarProvider';\nimport Spinner from './components/Spinner';\nimport AppRouter from './routes/AppRouter';\nimport theme from './theme';\n\nfunction App() {\n  return (\n    <React.Fragment>\n      <LoadingProvider>\n        <MuiThemeProvider theme={theme}>\n          <SnackBarProvider>\n            <CssBaseline/>\n            <BrowserRouter basename=\"/admin\">\n              <Spinner/>\n              <NavBar/>\n              <Box paddingTop={'70px'}>\n                <Breadcrumbs/>\n                <AppRouter/>\n              </Box>\n            </BrowserRouter>\n          </SnackBarProvider>\n        </MuiThemeProvider>\n      </LoadingProvider>\n    </React.Fragment>\n    \n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { Creators, Types } from \".\";\nimport {eventChannel, END} from 'redux-saga'\nimport {actionChannel, take, call, put} from 'redux-saga/effects'\nimport { AddUploadAction, FileInfo } from \"./types\";\nimport { Video } from \"../../util/models\";\nimport videoHttp from \"../../util/http/video-http\";\n\nexport function* uploadWatcherSaga(){\n  const newFilesChannel = yield actionChannel(Types.ADD_UPLOAD);\n  while(true){\n    const {payload}: AddUploadAction = yield take(newFilesChannel);\n    for(const fileInfo of payload.files){\n      try{\n        yield call(uploadFile, {video: payload.video, fileInfo });\n      }catch(e){\n\n      }\n    }\n  }\n\n}\n\nfunction* uploadFile({video, fileInfo}: { video: Video, fileInfo: FileInfo}){\n  const channel = yield call(sendUpload, {id: video.id, fileInfo }); \n  while(true){\n    try{\n      const {progress, response} = yield take(channel);\n      if(response){\n        return response;\n      }\n      yield put(Creators.updateProgress({\n        video,\n        fileField: fileInfo.fileField,\n        progress\n      }));\n    }catch(e){\n      yield put(Creators.setUploadError({\n        video,\n        fileField: fileInfo.fileField,\n        error: e\n      }));\n      throw e;\n    }\n    \n  }\n}\n\nfunction sendUpload({id,fileInfo}: {id: string, fileInfo: FileInfo}){\n  return eventChannel(emmitter => {\n    videoHttp.partialUpdate(\n      id, \n      {\n        _method: 'PATCH',\n        [fileInfo.fileField]: fileInfo.file\n      }, \n      {\n        http: {\n          usePost: true\n        },\n        config: {\n          headers: {\n            'x-ignore-loading': true\n          },\n          onUploadProgress(progressEvent: ProgressEvent){\n            if(progressEvent.lengthComputable){\n              const progress = progressEvent.loaded / progressEvent.total;\n              emmitter({progress});\n            }\n        \n          }\n        }\n      }\n    ).then(response => emmitter({response}))\n     .catch(error => emmitter(error))\n     .finally(() => emmitter(END));\n      const unsubscribe = () => {};\n      return unsubscribe;\n    })\n}","import { all } from \"redux-saga/effects\";\nimport { uploadWatcherSaga } from \"./upload/sagas\";\n\nexport default function* rootSaga(){\n  yield all([\n    uploadWatcherSaga()\n  ]);\n}","import { applyMiddleware, createStore, combineReducers } from \"redux\";\nimport createSagaMiddleWare from \"redux-saga\";\nimport rootSaga from \"./root-saga\";\nimport upload from \"./upload\";\n\nconst sagaMiddleware = createSagaMiddleWare();\nconst store = createStore(\n  combineReducers({\n    upload\n  }),\n  applyMiddleware(sagaMiddleware)\n);\n\nsagaMiddleware.run(rootSaga);\nexport default store;","import React, { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from 'react-redux';\nimport store from './store';\n\n\nReactDOM.render(\n  <StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider> \n  </StrictMode> ,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}